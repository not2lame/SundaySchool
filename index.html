<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Come, Follow Me Companion</title>
    
    <!-- Tailwind CSS (Styling) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts: Inter (Body) and Merriweather (Headings) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    
    <!-- Babel (to compile JSX in browser) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>

    <!-- Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Merriweather', 'serif'],
                    },
                    colors: {
                        stone: { 50: '#fafaf9', 100: '#f5f5f4', 200: '#e7e5e4', 300: '#d6d3d1', 400: '#a8a29e', 500: '#78716c', 600: '#57534e', 700: '#44403c', 800: '#292524', 900: '#1c1917' },
                        amber: { 50: '#fffbeb', 100: '#fef3c7', 200: '#fde68a', 300: '#fcd34d', 400: '#fbbf24', 500: '#f59e0b', 600: '#d97706', 700: '#b45309', 800: '#92400e', 900: '#78350f' }
                    }
                }
            }
        }
    </script>

    <style>
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Print Styles */
        @media print {
            body * {
                visibility: hidden;
            }
            #printable-study-section, #printable-study-section * {
                visibility: visible;
            }
            #printable-study-section {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                margin: 0;
                padding: 0;
                border: none;
                box-shadow: none;
            }
            .no-print {
                display: none !important;
            }
        }
    </style>
</head>
<body class="bg-stone-100 text-stone-800 h-screen flex flex-col overflow-hidden">

    <!-- Loading Fallback -->
    <div id="root" class="h-full flex flex-col">
        <div class="flex items-center justify-center h-full bg-stone-100 text-stone-500 p-4 text-center">
            <div>
                <h2 class="text-xl font-bold mb-2">Loading App...</h2>
                <p class="text-sm">If this takes longer than a few seconds, your network may be blocking the script libraries (React).</p>
            </div>
        </div>
    </div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // ==========================================
        // DATA CONSTANTS
        // ==========================================

        const WEEK_INFO = {
            title: "The Fall of Adam and Eve",
            dateRange: "January 19‚Äì25, 2026",
            valediction: "In gratitude for the Fall and the Savior‚Äôs Atonement"
        };

        const DEVOTIONAL_DATA = [
            { id: 'monday', day: 'Mon', fullDay: 'Monday', date: 'Jan 19', title: 'A Glorious Necessity üåÖ', text: 'The world often views the story of Adam and Eve as a tragedy‚Äîa tale of lost paradise and failure. However, the restored gospel reframes the Fall not as a mistake, but as a glorious necessity in God\'s plan. Without leaving the Garden, Adam and Eve would have remained stagnant, unable to progress or have families. Leaving Eden was the essential first step toward becoming like our Heavenly Parents.', prompt: 'Reflection: How does viewing the Fall as a "step forward" rather than a "step backward" change how you view your own mistakes and growth?', scriptureRef: '2 Nephi 2:22‚Äì25', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/bofm/2-ne/2?lang=eng&id=p22-25', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' },
            { id: 'tuesday', day: 'Tue', fullDay: 'Tuesday', date: 'Jan 20', title: 'The War for Agency üõ°Ô∏è', text: 'Before this life, a war was fought over your agency. Satan sought to destroy it by removing choice and accountability, while Jesus Christ championed the Father\'s plan of freedom. That war didn\'t end in heaven; Satan still tries to "blind men" and lead them captive today by discouraging accountability. We win this ongoing battle every time we choose to follow the Savior and keep our covenants.', prompt: 'Reflection: In what subtle ways do you see the "war on agency" continuing in the world today, and how can you protect your power to choose?', scriptureRef: 'Moses 4:3‚Äì4', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/moses/4?lang=eng&id=p3-4', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' },
            { id: 'wednesday', day: 'Wed', fullDay: 'Wednesday', date: 'Jan 21', title: 'Presiding, Not Dominating ü§ù', text: 'In Genesis 3:16, the Lord tells Eve that Adam shall "rule over" her, a phrase that has unfortunately been misunderstood to justify unkindness or dominion. Modern prophets and Hebrew context clarify that "rule" here connotes a responsibility to protect, minister, and preside with‚Äînot to dominate. Husbands and wives are meant to be equal partners, treating each other with the utmost respect and deference.', prompt: 'Reflection: How can you better exemplify the principle of "equal partnership" and mutual respect in your family relationships this week?', scriptureRef: 'Genesis 3:16', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/ot/gen/3?lang=eng&id=p16', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' },
            { id: 'thursday', day: 'Thu', fullDay: 'Thursday', date: 'Jan 22', title: 'Fig Leaves vs. The Lamb üêë', text: 'When Adam and Eve first realized their nakedness, they tried to cover themselves with fig leaves, a temporary, man-made solution. Later, the Lord provided "coats of skins," which required a sacrifice. This powerful symbol teaches us that we cannot "cover" our own sins with temporary fixes or behavioral changes alone; we need the Atonement of Jesus Christ to truly cover and cleanse us.', prompt: 'Reflection: Are there any "fig leaves" (temporary fixes) you are using to hide spiritual wounds? How can you turn to the Savior for a true and permanent covering?', scriptureRef: 'Genesis 3:21', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/ot/gen/3?lang=eng&id=p21', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' },
            { id: 'friday', day: 'Fri', fullDay: 'Friday', date: 'Jan 23', title: 'The Joy of Redemption ‚ú®', text: 'One of the most unique truths in the Book of Moses is Adam and Eve‚Äôs reaction to the Fall: they were glad!. Eve declared that without their transgression, they never would have known the "joy of our redemption". We cannot fully appreciate light without understanding darkness, nor can we value the sweet peace of redemption without recognizing our need for it through our Savior Jesus Christ.', prompt: 'Reflection: Think of a difficult trial you have faced. Looking back, how has that opposition helped you better understand and appreciate the "joy of redemption"?', scriptureRef: 'Moses 5:10‚Äì11', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/moses/5?lang=eng&id=p10-11', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' },
            { id: 'saturday', day: 'Sat', fullDay: 'Saturday', date: 'Jan 24', title: 'Worshiping in His Way üïäÔ∏è', text: 'The story of Cain and Abel highlights a crucial lesson on worship. Abel offered the "firstlings," following God\'s specific instructions, while Cain offered the "fruit of the ground" likely what was convenient or preferred by him. The Lord accepts sacrifices offered with a willing and obedient heart, in His appointed way, rather than worship based on our own terms.', prompt: 'Reflection: Is there an area of your worship where you might be doing what is "convenient" rather than exactly what the Lord has asked?', scriptureRef: 'Moses 5:4‚Äì5', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/moses/5?lang=eng&id=p4-5', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' },
            { id: 'sunday', day: 'Sun', fullDay: 'Sunday', date: 'Jan 25', title: 'Because of Him ‚ù§Ô∏è', text: 'As we conclude our study of the Fall, we are reminded that while Adam and Eve brought mortality, Jesus Christ brings life. Because of the Fall, we are separated from God; but because of Jesus Christ, we can be redeemed and return to Him. The Fall was the question; the Atonement of Jesus Christ is the eternal answer.', prompt: 'Reflection: Complete this sentence in your journal today: "Because of Jesus Christ, I ..."', scriptureRef: 'Moses 6:59', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/moses/6?lang=eng&id=p59', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' }
        ];

        const YM_DATA = [
             { id: 'monday', day: 'Mon', date: 'Jan 19', title: 'You Are a Veteran ‚öîÔ∏è', text: 'Before you were born, a literal war was fought over your freedom. Satan wanted to force everyone to be "good" and destroy our agency, but Jesus Christ championed the plan of freedom. The fact that you are here on earth means you fought on Christ‚Äôs side and won. You aren\'t just a bystander in the spiritual battles of today; you are a veteran warrior who has already proven he can defeat the adversary.', prompt: 'Challenge: Identify one specific temptation you are facing right now (your current "battle") and pray specifically for the strength to beat it, just like you did before.', scriptureRef: 'Moses 4:1‚Äì3', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/moses/4?lang=eng&id=p1-3', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' },
            { id: 'tuesday', day: 'Tue', date: 'Jan 20', title: 'The Ultimate Upgrade üöÄ', text: 'Gamers know that sometimes you have to leave a "safe zone" to level up. Adam and Eve leaving the Garden of Eden wasn\'t a failure; it was the only way to progress. If they had stayed, they would have remained stagnant forever, no family, no growth, no joy. The Fall was a necessary upgrade to God\'s plan. Don\'t be afraid of hard things or mistakes; they are often the steps you need to take to become great.', prompt: 'Challenge: What is a skill or goal you‚Äôve been afraid to start because you might fail? Take the first step today.', scriptureRef: '2 Nephi 2:22‚Äì25', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/bofm/2-ne/2?lang=eng&id=p22-25', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' },
            { id: 'wednesday', day: 'Wed', date: 'Jan 21', title: 'Better Armor üõ°Ô∏è', text: 'When Adam and Eve realized they were naked, they tried to cover up with fig leaves. It was a weak, temporary fix. The Lord stepped in and gave them "coats of skins," which required a sacrifice. This represents the Atonement of Jesus Christ. We often try to cover our sins or insecurities with "fig leaves", excuses, humor, or acting tough. But real strength and protection come when we let the Savior cover us through repentance.', prompt: 'Reflection: Are you using any "fig leaves" (excuses) to hide a mistake? How can you replace that with the armor of Christ\'s Atonement today?', scriptureRef: 'Genesis 3:21', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/ot/gen/3?lang=eng&id=p21', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' },
            { id: 'thursday', day: 'Thu', date: 'Jan 22', title: 'Real Leadership ü¶Å', text: 'The scriptures say Adam was to "rule over" Eve, but don\'t get it twisted, this doesn\'t mean dominating or bossing people around. In the original language, it means to "preside" or protect. As a priesthood holder, your job is never to force others; it is to serve, protect, and lift those around you. Real men lead by example and kindness, not by control.', prompt: 'Challenge: Show real leadership today by doing something to serve a family member (like doing their chores) without being asked.', scriptureRef: 'Genesis 3:16', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/ot/gen/3?lang=eng&id=p16', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' },
            { id: 'friday', day: 'Fri', date: 'Jan 23', title: 'Don\'t Be Cheap üêë', text: 'Cain and Abel both made sacrifices, but God rejected Cain\'s. Why? Abel brought the "firstlings", the very best he had. Cain brought the "fruit of the ground" likely just whatever was convenient or easy. As a priesthood holder, you can\'t just phone it in. God doesn\'t need your perfection, but He does demand your best effort and a willing heart. Don\'t give the Lord your leftovers.', prompt: 'Reflection: Think about your prayers or priesthood duties. Are you giving the "firstlings" (your best effort) or just the "fruit of the ground" (doing the bare minimum)?', scriptureRef: 'Moses 5:4‚Äì5', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/moses/5?lang=eng&id=p4-5', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' },
            { id: 'saturday', day: 'Sat', date: 'Jan 24', title: 'Embrace the Grind üèãÔ∏è', text: 'When Adam left the garden, God told him he would eat bread by the "sweat of his face." Work isn\'t a punishment; it\'s a blessing. Thorns and thistles (challenges) force us to get stronger, smarter, and more reliant on God. A life without work or challenge makes men weak. Embrace the hard work‚Äîwhether it\'s school, sports, or a job‚Äîbecause the grind is what builds your character.', prompt: 'Challenge: Do the hardest thing on your to-do list first today. Don\'t procrastinate. Attack it.', scriptureRef: 'Genesis 3:19', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/ot/gen/3?lang=eng&id=p19', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' },
            { id: 'sunday', day: 'Sun', date: 'Jan 25', title: 'Mission Accomplished üèîÔ∏è', text: 'It sounds weird, but Adam was actually glad about the Fall. He said, "Blessed be the name of God, for because of my transgression my eyes are opened." He understood the mission: we had to fall so we could be redeemed by Jesus Christ. The whole point of this life is to know good from evil and choose the good. You are here to learn, to choose, and to return with honor.', prompt: 'Reflection: What does "redemption" mean to you personally? Write down one sentence about how Jesus saves you.', scriptureRef: 'Moses 5:10', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/moses/5?lang=eng&id=p10', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' }
        ];

        const YW_DATA = [
            { id: 'monday', day: 'Mon', date: 'Jan 19', title: 'Brave Like Eve üëë', text: 'The world sometimes thinks Eve made a huge mistake by partaking of the fruit, but the restored gospel teaches us she was actually incredibly brave. She understood that staying in the Garden meant staying the same forever, no growth, no family, no progress. She chose to leave her comfort zone so she (and we!) could grow and become like God. It wasn\'t just a fall; it was a step forward.', prompt: 'Challenge: Is there something you\'ve been afraid to do because it requires leaving your "comfort zone"? Take one small step toward it today.', scriptureRef: '2 Nephi 2:22‚Äì25', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/bofm/2-ne/2?lang=eng&id=p22-25', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' },
            { id: 'tuesday', day: 'Tue', date: 'Jan 20', title: 'You Are a Warrior üõ°Ô∏è', text: 'Did you know you‚Äôve already fought a war? Before this life, Satan tried to destroy your agency (your power to choose), but you fought for it! You chose Jesus Christ then, and that means you have a powerful testimony deep inside you. Satan is still trying to trick people into giving up their power to choose, but you defeated him once, and you can do it again by choosing the Savior every day.', prompt: 'Challenge: Post a favorite scripture or a picture of the temple on social media (or share it with a friend) to show whose side you are on.', scriptureRef: 'Moses 4:3‚Äì4', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/moses/4?lang=eng&id=p3-4', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' },
            { id: 'wednesday', day: 'Wed', date: 'Jan 21', title: 'Real Beauty & True Covering üå∏', text: 'When Adam and Eve realized they were naked, they felt ashamed and tried to cover up with fig leaves. But leaves dry up and crumble! The Lord gave them "coats of skins" instead. This represents the Atonement of Jesus Christ. Sometimes we try to hide our mistakes or insecurities with temporary fixes (like filters or pretending to be perfect), but only Jesus Christ can truly cover us, heal us, and make us whole.', prompt: 'Reflection: What is one "fig leaf" (temporary fix or mask) you use to hide how you really feel? Try talking to Heavenly Father about it in prayer today.', scriptureRef: 'Genesis 3:21', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/ot/gen/3?lang=eng&id=p21', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' },
            { id: 'thursday', day: 'Thu', date: 'Jan 22', title: 'The Joy in the Journey ‚ú®', text: 'It sounds crazy, but after being cast out of the beautiful garden, Eve was glad! She said, "Were it not for our transgression we never should have... known good and evil, and the joy of our redemption." She realized that we can\'t truly understand how sweet joy is unless we have tasted the bitter. Your hard days aren\'t a sign that you are failing; they are often the very things that help you understand true joy.', prompt: 'Challenge: Think of a hard trial you went through recently. Can you find one "silver lining" or lesson you learned from it? Write it down.', scriptureRef: 'Moses 5:11', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/moses/5?lang=eng&id=p11', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' },
            { id: 'friday', day: 'Fri', date: 'Jan 23', title: 'Relationship Goals ü§ù', text: 'In the Bible, it says Adam would "rule over" Eve, but the original Hebrew meaning is actually about "presiding with" or protecting, not bossing around! Heavenly Father designed men and women to be equal partners. As you look forward to your future, remember that you deserve to be treated with total respect, as a queen by a king, not as a servant.', prompt: 'Reflection: Look at the relationships around you. Who is an example of two people treating each other as true, equal partners?', scriptureRef: 'Genesis 3:16', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/ot/gen/3?lang=eng&id=p16', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' },
            { id: 'saturday', day: 'Sat', date: 'Jan 24', title: 'Your Heart Matters ‚ù§Ô∏è', text: 'Cain and Abel both offered sacrifices, but God only accepted Abel\'s. Why? Because Abel followed God\'s specific instructions with faith, while Cain did his own thing and offered what was easy for him. When we keep commandments (like tithing or the Word of Wisdom), it matters how we do it. God wants our willing hearts, not just a checklist!', prompt: 'Challenge: Do one act of service or keep a commandment today not just because you "have to," but specifically to show God you love Him.', scriptureRef: 'Moses 5:4‚Äì5', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/moses/5?lang=eng&id=p4-5', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' },
            { id: 'sunday', day: 'Sun', date: 'Jan 25', title: 'Because of Him... üïäÔ∏è', text: 'We talk a lot about the Fall of Adam and Eve, but the most important part of the story is the rising! Because of the Fall, we came to earth. But because of Jesus Christ, we can return to heaven, cleaned and perfected. He turns our "falls" into stepping stones.', prompt: 'Reflection: Complete this sentence: "Because of Jesus Christ, I can..." Share your answer with your class or family today.', scriptureRef: 'Moses 6:59', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/moses/6?lang=eng&id=p59', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng' }
        ];

        const SONGS_DATA = [
            { id: 'monday', day: 'Mon', title: 'A Glorious Necessity üåÖ', devotionalText: 'The world often views the story of Adam and Eve as a tragedy‚Äîa tale of lost paradise and failure. However, the restored gospel reframes the Fall not as a mistake, but as a glorious necessity in God\'s plan. Without leaving the Garden, Adam and Eve would have remained stagnant, unable to progress or have families. Leaving Eden was the essential first step toward becoming like our Heavenly Parents.', 
                hymnTitle: 'Adam-ondi-Ahman', hymnLink: 'https://www.youtube.com/watch?v=8oo6M6sAij8&list=RD8oo6M6sAij8&start_radio=1', hymnAnalysis: 'This hymn commemorates the place where Adam and Eve dwelt after being cast out of the Garden of Eden. The steady, folk-like melody reflects the transition from paradise to a world of labor and growth. It helps us visualize the reality of their "step forward" into mortality, recognizing that the ground they walked upon became sacred because of the progress they made there. By singing of the "valley of Adam-ondi-Ahman," we celebrate the beginning of the human family. The hymn captures a sense of sacred history, reminding us that the Fall was not an end but a beginning. It aligns with the devotional by showing that even though Adam and Eve left Eden, God\'s presence and plan followed them into the world, just as His grace follows us in our own progression.', 
                songTitle: 'I Will Follow God\'s Plan', songArtist: 'The Tabernacle Choir', songLink: 'https://www.youtube.com/watch?v=4770JKNosRU', songAnalysis: 'While often considered a Primary song, the Tabernacle Choir\'s arrangement brings a mature depth to the concept of the plan of salvation. The lyrics, "My life is a gift; my life has a plan," speak to the "glorious necessity" of our mortal experience. It reinforces that our "choice was to come to this lovely home on earth" to seek God\'s light. This song helps us answer the reflection question by reframing our earthly life as a deliberate choice for growth. It teaches that the challenges we face‚Äîmuch like Adam and Eve\'s departure from Eden‚Äîare part of a divine design to help us return to our "home above." Listening to this focuses the mind on the intentionality of the Fall and our own current journey.' },
            { id: 'tuesday', day: 'Tue', title: 'The War for Agency üõ°Ô∏è', devotionalText: 'Before this life, a war was fought over your agency. Satan sought to destroy it by removing choice and accountability, while Jesus Christ championed the Father\'s plan of freedom. That war didn\'t end in heaven; Satan still tries to "blind men" and lead them captive today by discouraging accountability. We win this ongoing battle every time we choose to follow the Savior and keep our covenants.', 
                hymnTitle: 'Battle Hymn of the Republic', hymnLink: 'https://www.youtube.com/watch?v=yAqNe-m0a8s#:~:text=%22Battle%20Hymn%20of%20the%20Republic%2C%22%20by%20William%20Steffe%2C,.ly/WPBnewsl...', hymnAnalysis: 'This stirring anthem captures the intensity of the "ongoing battle" for truth and agency. The lyrics "He is sifting out the hearts of men before His judgment seat" remind us that we are currently in the midst of the war for our souls. The martial rhythm and triumphant chorus of "Glory, glory, hallelujah" inspire a spirit of victory, reinforcing the devotional\'s message that we can win this battle by championing the Savior\'s cause just as we did in the premortal life.', 
                songTitle: 'Choose Him Again', songArtist: 'Shawna Edwards', songLink: 'https://www.youtube.com/watch?v=QqHJetpmgdc', songAnalysis: 'This powerful song directly connects our pre-mortal choice to our current struggles. The lyrics remind us that we already chose Christ once during the "war in heaven," and now, amidst the confusion of mortality, we must "choose Him again." It serves as a stirring call to action for the reflection question, urging us to protect our power to choose by consciously re-ratifying our pre-mortal decision to follow the Savior every single day.' },
            { id: 'wednesday', day: 'Wed', title: 'Presiding, Not Dominating ü§ù', devotionalText: 'In Genesis 3:16, the Lord tells Eve that Adam shall "rule over" her, a phrase that has unfortunately been misunderstood to justify unkindness or dominion. Modern prophets and Hebrew context clarify that "rule" here connotes a responsibility to protect, minister, and preside with‚Äînot to dominate. Husbands and wives are meant to be equal partners, treating each other with the utmost respect and deference.', 
                hymnTitle: 'Love at Home', hymnLink: 'https://www.youtube.com/watch?v=tn5UeEFw4QQ', hymnAnalysis: '"Love at Home" provides the musical atmosphere for a household where "equal partnership" is the standard. The lyrics "There is beauty all around when there\'s love at home" suggest that true beauty and order in a family come from mutual respect and kindness, rather than unrighteous dominion. The gentle harmony of the choir reflects the "interwoven family fabric" mentioned in later days, but here it specifically supports the idea of unity between partners. When we listen to the phrases about "peace and joy" that "every flower and tree" seem to share, we are reminded that God\'s creations thrive in environments of harmony and equality, not force.', 
                songTitle: 'Love Is Spoken Here', songArtist: 'Janice Kapp Perry', songLink: 'https://www.youtube.com/watch?v=HVMNChfcbKY', songAnalysis: 'This song illustrates the practical application of presiding with love. It highlights a home where the Spirit can dwell because love is "spoken" and demonstrated through "kindness". This directly counters the idea of "dominating," as it shows that true leadership in the home is about inviting the Spirit through Christlike service. The focus on "priesthood power" being used to bless every hour connects back to the modern prophetic teaching that this power is meant for ministering and protecting. It helps us answer the reflection question by showing that "equal partnership" is built through the small, daily choices to speak and act with love toward those we share our lives with.' },
            { id: 'thursday', day: 'Thu', title: 'Fig Leaves vs. The Lamb üêë', devotionalText: 'When Adam and Eve first realized their nakedness, they tried to cover themselves with fig leaves, a temporary, man-made solution. Later, the Lord provided "coats of skins," which required a sacrifice. This powerful symbol teaches us that we cannot "cover" our own sins with temporary fixes or behavioral changes alone; we need the Atonement of Jesus Christ to truly cover and cleanse us.', 
                hymnTitle: 'I Stand All Amazed', hymnLink: 'https://www.youtube.com/watch?v=1zNFduONf6Q', hymnAnalysis: 'The lyrics "I stand all amazed at the love Jesus offers me" speak to the overwhelming gratitude we feel when we trade our "fig leaves" for His grace. The hymn acknowledges our "confused and rebellious" nature‚Äîour attempts to hide or fix things ourselves‚Äîand contrasts it with the "mercy" that rescues us. The reference to Him extending His "precious blood" parallels the "coats of skins" sacrifice, reminding us that only His offering can truly cover our spiritual nakedness.', 
                songTitle: 'Savior, Redeemer of My Soul', songArtist: 'Dallyn Bayles', songLink: 'https://www.youtube.com/watch?v=7bff55utu-U', songAnalysis: 'This song is a deeply personal plea for the Lord to "make me more worthy of thy love." It captures the feeling of someone realizing their own "man-made solutions" are insufficient. The lyrics "My soul till I shall in perfect with" express the desire for a complete, divine transformation that only the "Lamb" can provide. Listening to Dallyn Bayles\' powerful delivery can help us feel the weight of our need for the Atonement. It helps us identify our "fig leaves" by contrasting our small efforts with the "soaring orchestration" of God\'s redemptive power. It encourages us to turn to the Savior for a "true and permanent covering" that heals the soul from the inside out.' },
            { id: 'friday', day: 'Fri', title: 'The Joy of Redemption ‚ú®', devotionalText: 'One of the most unique truths in the Book of Moses is Adam and Eve‚Äôs reaction to the Fall: they were glad! Eve declared that without their transgression, they never would have known the "joy of our redemption". We cannot fully appreciate light without understanding darkness, nor can we value the sweet peace of redemption without recognizing our need for it through our Savior Jesus Christ.', 
                hymnTitle: 'How Firm a Foundation', hymnLink: 'https://www.youtube.com/watch?v=r0Xvr8maR34', hymnAnalysis: 'This hymn speaks directly to finding "joy" amidst "deep water" and trials. The verse "When through the deep waters I call thee to go... they shall not thee o\'erflow" mirrors Eve\'s perspective that opposition is the catalyst for understanding God\'s sustaining power. The hymn teaches that our "deepest distress" can be "sanctified" to us, turning pain into a source of redemption. The triumphant, driving melody reinforces the idea of being "glad" in our progress. It doesn\'t shy away from the reality of the "fiery trials," but it places the focus on the "firm foundation" of Christ that makes the joy possible. It encourages us to look at our trials as the necessary "darkness" that allows us to fully appreciate the "light" of the Savior.', 
                songTitle: 'Gethsemane', songArtist: 'Melanie Hoffman', songLink: 'https://www.youtube.com/watch?v=uvPsRgIU3qg', songAnalysis: 'This song focuses on the specific event that makes the "joy of redemption" possible. The lyrics describe the "greatest pain that ever was known" and the "biggest battle that ever was won." By focusing on the Savior\'s sacrifice, it helps us understand why Adam and Eve were so "glad"‚Äîthey knew that even in their fallen state, a way had been prepared for them to be healed. The song helps us answer the reflection question by connecting our personal trials to the Savior\'s ultimate trial. It reminds us that our "need for redemption" is met by a Savior who "loves me so." This realization turns the sorrow of our mistakes into the "sweet peace" of knowing we are never beyond the reach of His love.' },
            { id: 'saturday', day: 'Sat', title: 'Worshiping in His Way üïäÔ∏è', devotionalText: 'The story of Cain and Abel highlights a crucial lesson on worship. Abel offered the "firstlings," following God\'s specific instructions, while Cain offered the "fruit of the ground" likely what was convenient or preferred by him. The Lord accepts sacrifices offered with a willing and obedient heart, in His appointed way, rather than worship based on our own terms.', 
                hymnTitle: 'More Holiness Give Me', hymnLink: 'https://www.youtube.com/watch?v=n51QQTvKzKc', hymnAnalysis: 'This hymn is a prayer for the internal qualities that make worship acceptable: "More patience in suffering, more sorrow for sin, more faith in my Savior." Unlike Cain, who focused on the outward act, this hymn focuses on the "willing and obedient heart". It asks the Lord to fit us for His use, rather than asking Him to accept our terms. Listening to it aligns our desires with the Lord\'s "appointed way," moving us away from convenience and toward consecration.', 
                songTitle: 'I\'m Trying to Be Like Jesus', songArtist: 'Janice Kapp Perry', songLink: 'https://www.youtube.com/watch?v=PwraV21vVVc', songAnalysis: 'This song\'s simple but profound focus on "following in His ways" and "listening to the still small voice" reflects the "obedient heart" of Abel. It teaches that worship isn\'t just a formal ritual but is found in the "things Jesus taught"‚Äîkindness, gentleness, and serving others. This song helps us identify "convenient" worship by asking if we are truly trying to "love as He did" in everything we do and say. It emphasizes that the Lord\'s "appointed way" is the way of love and active discipleship. Listening to this arrangement encourages a sincere commitment to follow God\'s specific instructions for our lives.' },
            { id: 'sunday', day: 'Sun', title: 'Because of Him ‚ù§Ô∏è', devotionalText: 'As we conclude our study of the Fall, we are reminded that while Adam and Eve brought mortality, Jesus Christ brings life. Because of the Fall, we are separated from God; but because of Jesus Christ, we can be redeemed and return to Him. The Fall was the question; the Atonement of Jesus Christ is the eternal answer.', 
                hymnTitle: 'I Know That My Redeemer Lives', hymnLink: 'https://www.youtube.com/watch?v=dhm2uyilsxw', hymnAnalysis: 'This hymn is the definitive answer to the "question" of the Fall. Its repetitive, certain declaration "I know" provides the spiritual anchor needed to navigate mortality. The lyrics celebrate that "He lives to silence all my fears" and "He lives to wipe away my tears," directly addressing the consequences of the Fall‚Äîfear, sorrow, and death. The soaring orchestration and choral power evoke the "glorious ascension" and the reality of life after death. It helps us answer the reflection question by providing numerous completions to the sentence: because of Him, I can "be comforted," "be blessed," and eventually "return to Him." It is a song of ultimate hope and redemption.', 
                songTitle: 'Come, Thou Fount of Every Blessing', songArtist: 'Jenny Oaks Baker & GENTRI', songLink: 'https://www.youtube.com/watch?v=Q3feiNV5ZO4', songAnalysis: 'This arrangement focuses on the "wonders of your Eternal King" and the "glorious and wonderful provision" God has made for our salvation. The plea "O to grace how great a debtor daily I\'m constrained to be" acknowledges that our redemption is entirely a gift from the Savior. The "soaring vocals" and "majestic arrangement" create a capstone experience for the week\'s study. It turns our hearts toward the goodness of God and the infinite reach of the Atonement. Listening to this performance is a powerful way to conclude the week, feeling deeply "grateful" for a plan that ensures we are never truly lost.' }
        ];

        const STUDY_GUIDE_DATA = [
            {
                title: "Background",
                content: [
                    "The story of Adam and Eve is often viewed by the world as a tragedy‚Äîa story of disobedience and lost paradise. However, the restored gospel, particularly through the Book of Moses, reframes this event. We learn that the Fall was a necessary step forward, not backward. As the manual states, \"Leaving the Garden of Eden was the necessary first step toward returning to God.\" This week, we explore the choices made in the Pre-mortal Council, the Garden of Eden, and the early days of mortality to understand how we can choose God today.",
                    <span>Full Lesson: <a href="https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng" target="_blank" rel="noopener noreferrer" className="text-amber-600 hover:underline break-all">https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/04?lang=eng</a></span>
                ]
            },
            {
                title: "Introduction: The War Over Agency",
                discussionPoint: "Before the earth was created, a war was fought over agency. In the supplemental reading \"3 Ways to Reject Satan,\" Elder Karl D. Hirst explains that Lucifer wanted to destroy our agency and take God's glory, while Jesus Christ sought to do the Father's will. The \"war\" wasn't fought with weapons, but with testimony and choice. We are here because we chose Christ then.",
                quote: "Moses 4:3‚Äì4: \"Wherefore, because that Satan rebelled against me, and sought to destroy the agency of man, which I, the Lord God, had given him... I caused that he should be cast down; And he became Satan, yea, even the devil, the father of all lies, to deceive and to blind men, and to lead them captive at his will, even as many as would not hearken unto my voice.\"",
                questions: [
                    {
                        q: "Elder Hirst suggests that Satan‚Äôs tactics haven't changed‚Äîhe still uses fear, doubt, and the promise of \"easy\" paths to destroy our agency. How do we see the \"War in Heaven\" continuing in our culture or personal lives today?",
                        a: "[We see it when people try to avoid accountability for their actions. We see it in addiction, which literally destroys agency. We see it when truth is relativized, blinding men to reality. We fight it by testifying of truth and keeping our covenants.]"
                    }
                ]
            },
            {
                title: "Moses 5:11; 2 Nephi 2:22‚Äì25: The Necessity of the Fall for Families",
                discussionPoint: "A critical truth restored in the latter days is that the Fall was essential for the continuation of the human family. Without the Fall, Adam and Eve would have remained in the Garden of Eden forever‚Äîinnocent, but stagnant. They would have had no children, and consequently, none of us would have had the opportunity to come to earth, gain a body, and progress toward eternal life. The Fall was not a \"Plan B\"; it was the gateway to our eternal progression.",
                quote: "Moses 5:11: \"And Eve, his wife, heard all these things and was glad, saying: Were it not for our transgression we never should have had seed, and never should have known good and evil, and the joy of our redemption, and the eternal life which God giveth to all the obedient.\"",
                questions: [
                    {
                        q: "Why does knowing that the Fall was necessary for Adam and Eve to have children change how we view their decision to partake of the fruit?",
                        a: "[It shifts our perspective from judgment to gratitude. We realize they made a difficult sacrifice so that we could exist. It helps us understand that \"transgression\" in this context was a formal crossing of a boundary to keep a higher law (the command to multiply and replenish the earth). It confirms that family is central to the Creator's plan.]"
                    }
                ]
            },
            {
                title: "Genesis 3:16; Moses 4:22: Understanding \"Rule Over\"",
                discussionPoint: "After the Fall, the Lord describes the consequences to Adam and Eve. One phrase in Genesis 3:16 has often been misunderstood when the Lord says to Eve regarding Adam: \"he shall rule over thee.\" The Hebrew word translated here as \"rule\" mashal used here, combined with the preposition bet, connotes \"ruling with\" or \"presiding\" rather than dominating. It describes a protective, presiding responsibility within an equal partnership.",
                quote: "Genesis 3:16: \"Unto the woman he said... thy desire shall be to thy husband, and he shall rule over thee.\"",
                questions: [
                    {
                        q: "How does understanding the Hebrew definition of \"rule\" (to protect and preside with) change the way we view the relationship between Adam and Eve, and by extension, marriage today?",
                        a: "[It shifts the dynamic from hierarchy to partnership. It implies that the husband has a duty to protect and serve his wife, not control her. It aligns with modern prophetic teachings that men and women are equal partners with distinct responsibilities.]"
                    }
                ]
            },
            {
                title: "Genesis 3:21: The Coats of Skins",
                discussionPoint: "When Adam and Eve partook of the fruit, they realized they were naked and tried to cover themselves with fig leaves‚Äîa temporary, man-made solution. Later, before they left the garden, the Lord made them \"coats of skins.\" This required the death of an animal‚Äîthe first sacrifice‚Äîsymbolizing that only through the sacrifice of the Lamb of God can our spiritual nakedness be truly covered.",
                quote: "Genesis 3:21: \"Unto Adam also and to his wife did the Lord God make coats of skins, and clothed them.\"",
                questions: [
                    {
                        q: "Why is the distinction between the \"fig leaves\" (Adam and Eve's attempt) and the \"coats of skins\" (God's provision) significant for us when we try to fix our own mistakes?",
                        a: "[Fig leaves dry up and crumble; the Atonement is permanent. We often try to \"hide\" our sins or fix them with temporary behavioral changes, but only Christ's Atonement can actually cover and cleanse us. It teaches that we cannot save ourselves; we need the Savior.]"
                    }
                ]
            },
            {
                title: "Moses 5:10‚Äì12: The Joy of Redemption",
                discussionPoint: "Perhaps the most unique contribution of the Book of Moses is the reaction of Adam and Eve after they are cast out. Instead of lamenting their lost paradise, they rejoice. They understood that without the Fall, they never would have known the need for our Savior and the \"joy of our redemption.\"",
                quote: "Moses 5:10: \"And in that day Adam blessed God and was filled, and began to prophesy concerning all the families of the earth, saying: Blessed be the name of God, for because of my transgression my eyes are opened, and in this life I shall have joy, and again in the flesh I shall see God.\"",
                questions: [
                    {
                        q: "Eve states she would never have known the \"joy of redemption\" without the Fall. Why is it impossible to know true joy without experiencing sorrow or opposition first?",
                        a: "[We can't appreciate light without knowing darkness. Redemption implies being saved from something; we need to feel the need for a Savior to appreciate His grace. Opposition provides the contrast necessary to value happiness.]"
                    }
                ]
            },
            {
                title: "Moses 5:16‚Äì41: Cain, Abel, and the \"Mark\"",
                discussionPoint: "The story of Cain and Abel presents the first immediate consequences of the diverging paths of agency. Abel chose to worship God in God's way (sacrifice of the firstlings). Cain chose to worship, but in his own way (fruit of the ground), and ultimately entered a covenant with Satan. The ‚ÄúScripture Helps site‚Äù clarifies a crucial point about the \"mark of Cain.\" It was not a curse of skin color, but a sign of divine protection so that others would not kill him.",
                quote: "Moses 5:23: \"If thou doest well, thou shalt be accepted. And if thou doest not well, sin lieth at the door...\"",
                questions: [
                    {
                        q: "Cain offered a sacrifice, but the Lord rejected it. Why was Abel's sacrifice accepted while Cain's was not? (See Moses 5:5 regarding obedience).",
                        a: "[Abel offered the \"firstlings of the flock,\" which involved the shedding of blood and pointed to Christ. Cain offered the \"fruit of the ground,\" which was likely easier for him and did not follow the specific commandment given. It teaches us that we must worship God in His appointed way, not just whatever way is convenient for us. Cain's heart was not right; he loved Satan more than God.]"
                    }
                ]
            },
            {
                title: "Lesson Summary",
                content: [
                    "This week we walked the path from the War in Heaven to the lonely world outside of Eden. We learned that the Fall was a courageous choice that opened the door for our eternal progress and the creation of families. We discussed how God clothed Adam and Eve, symbolizing the covering of the Atonement. We clarified that marriage is meant to be a partnership of protection and presidency, not dominion. Finally, through the tragedy of Cain, we saw that we are free to choose, but we are not free to choose the consequences, nor can we define our own terms for worship."
                ]
            }
        ];

        // ==========================================
        // ICONS (Inline SVG Components)
        // ==========================================
        const IconSun = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>;
        const IconUsers = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>;
        const IconMusic = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>;
        const IconBookOpen = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>;
        const IconShare = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" x2="15.42" y1="13.51" y2="17.49"/><line x1="15.41" x2="8.59" y1="6.51" y2="10.49"/></svg>;
        const IconChevronDown = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m6 9 6 6 6-6"/></svg>;
        const IconChevronRight = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m9 18 6-6-6-6"/></svg>;
        const IconLink = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>;
        const IconPlayCircle = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><polygon points="10 8 16 12 10 16 10 8"/></svg>;
        const IconPrinter = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect></svg>;


        // ==========================================
        // COMPONENTS
        // ==========================================

        // 1. Toast Notification Component
        const Toast = ({ message, show, onClose }) => {
            useEffect(() => {
                if (show) {
                    const timer = setTimeout(onClose, 3000);
                    return () => clearTimeout(timer);
                }
            }, [show, onClose]);

            if (!show) return null;

            return (
                <div className="fixed bottom-24 left-1/2 transform -translate-x-1/2 bg-stone-800 text-white px-6 py-3 rounded-full shadow-lg z-50 flex items-center gap-2 animate-bounce toast-notification">
                    <span className="text-green-400">&#10003;</span>
                    {message}
                </div>
            );
        };

        // 2. Interactive Toggle Answer Component
        const ToggleAnswer = ({ question, answer }) => {
            const [isOpen, setIsOpen] = useState(false);

            return (
                <div className="mb-6 border-l-4 border-amber-200 pl-4">
                    <button 
                        onClick={() => setIsOpen(!isOpen)}
                        className="text-left font-bold text-amber-900 w-full hover:text-amber-700 transition-colors flex items-start gap-2"
                    >
                        <span className="mt-1">{isOpen ? <IconChevronDown className="w-5 h-5" /> : <IconChevronRight className="w-5 h-5" />}</span>
                        <span>{question}</span>
                    </button>
                    
                    {isOpen && (
                        <div className="mt-3 p-4 bg-stone-100 rounded-lg text-stone-700 italic border border-stone-200 fade-in">
                            <span className="font-bold not-italic text-stone-500 text-xs uppercase tracking-wider block mb-1">Possible Answer</span>
                            <div className="whitespace-pre-line">{answer}</div>
                        </div>
                    )}
                </div>
            );
        };

        // 3. Main App Component
        const App = () => {
            const [activeTab, setActiveTab] = useState('devotional');
            const [activeDayId, setActiveDayId] = useState('');
            const [showToast, setShowToast] = useState(false);
            const [youthGroup, setYouthGroup] = useState('ym'); // 'ym' or 'yw'

            // Initialize Day based on current date
            useEffect(() => {
                const dayMap = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];
                const todayIndex = new Date().getDay();
                setActiveDayId(dayMap[todayIndex]);
            }, []);

            const getActiveData = (dataArray) => {
                return dataArray.find(d => d.id === activeDayId) || dataArray[0];
            };

            const copyToClipboard = (dayData) => {
                const promptParts = dayData.prompt.split(':');
                const promptLabel = promptParts[0];
                const promptText = promptParts.slice(1).join(':').trim();
                const scriptureText = (dayData.scriptureRef && dayData.scriptureLink)
                    ? `Scripture: ${dayData.scriptureRef}\n${dayData.scriptureLink}\n\n`
                    : ""; 

                // Use dayData.date if available, otherwise fallback to empty string or generic
                const dateStr = dayData.date ? dayData.date : "";

                const textToCopy = `‚ú® Daily Devotional ‚ú®\n\n${dateStr}\n*${dayData.title}*\n\n${dayData.text}\n\n*${promptLabel}:* ${promptText}\n\n${scriptureText}Full Lesson:\n${dayData.lessonLink}`;

                // Modern clipboard API
                if (navigator.clipboard && navigator.clipboard.writeText) {
                      navigator.clipboard.writeText(textToCopy).then(() => {
                        setShowToast(true);
                    }).catch(err => {
                        fallbackCopy(textToCopy);
                    });
                } else {
                    fallbackCopy(textToCopy);
                }
            };

            const fallbackCopy = (text) => {
                 try {
                    const textArea = document.createElement("textarea");
                    textArea.value = text;
                    
                    // Avoid scrolling to bottom
                    textArea.style.top = "0";
                    textArea.style.left = "0";
                    textArea.style.position = "fixed";
        
                    document.body.appendChild(textArea);
                    textArea.focus();
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    setShowToast(true);
                 } catch (err) {
                     console.error("Fallback copy failed", err);
                 }
            };

            const renderDevotional = () => {
                const data = getActiveData(DEVOTIONAL_DATA);
                return (
                    <div className="space-y-6 fade-in max-w-2xl mx-auto">
                        <div className="bg-white p-6 rounded-2xl shadow-sm border border-stone-200">
                            <span className="text-amber-600 text-sm font-bold uppercase tracking-widest">{data.date}</span>
                            <h2 className="text-3xl font-serif font-bold text-stone-800 mt-2 mb-4">{data.title}</h2>
                            <p className="text-stone-600 leading-relaxed text-lg">{data.text}</p>
                            
                            <div className="mt-8 p-5 bg-amber-50 rounded-xl border border-amber-100">
                                <h3 className="font-bold text-amber-900 mb-2 flex items-center gap-2">
                                    <span className="w-2 h-2 bg-amber-500 rounded-full"></span>
                                    {data.prompt.split(':')[0]}
                                </h3>
                                <p className="text-stone-700 italic">{data.prompt.split(':').slice(1).join(':')}</p>
                            </div>

                            <div className="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3">
                                {data.scriptureLink && (
                                    <a href={data.scriptureLink} target="_blank" className="flex items-center justify-center gap-2 bg-amber-600 text-white py-3 rounded-lg font-medium hover:bg-amber-700 transition">
                                        <IconBookOpen className="w-4 h-4" /> Read Scripture: {data.scriptureRef}
                                    </a>
                                )}
                                <a href={data.lessonLink} target="_blank" className="flex items-center justify-center gap-2 bg-stone-200 text-stone-700 py-3 rounded-lg font-medium hover:bg-stone-300 transition">
                                    <IconLink className="w-4 h-4" /> Full Lesson
                                </a>
                            </div>

                            <button 
                                onClick={() => copyToClipboard(data)}
                                className="w-full mt-4 py-4 border-t border-stone-100 text-stone-500 hover:text-amber-600 font-medium flex items-center justify-center gap-2 transition-colors"
                            >
                                <IconShare className="w-4 h-4" /> Share Devotional
                            </button>
                        </div>
                    </div>
                );
            };

            const renderYouth = () => {
                const data = getActiveData(youthGroup === 'ym' ? YM_DATA : YW_DATA);
                return (
                    <div className="fade-in max-w-3xl mx-auto">
                        {/* Toggle Switch for YM/YW */}
                        <div className="flex justify-center mb-6 bg-stone-200 p-1 rounded-xl inline-flex w-full sm:w-auto mx-auto">
                            <button 
                                onClick={() => setYouthGroup('ym')}
                                className={`flex-1 sm:flex-none px-8 py-2 rounded-lg font-bold transition-all ${youthGroup === 'ym' ? 'bg-white shadow-sm text-amber-700' : 'text-stone-500 hover:text-stone-700'}`}
                            >
                                Young Men
                            </button>
                            <button 
                                onClick={() => setYouthGroup('yw')}
                                className={`flex-1 sm:flex-none px-8 py-2 rounded-lg font-bold transition-all ${youthGroup === 'yw' ? 'bg-white shadow-sm text-amber-700' : 'text-stone-500 hover:text-stone-700'}`}
                            >
                                Young Women
                            </button>
                        </div>

                        <div className="bg-white p-6 rounded-2xl shadow-sm border border-stone-200 relative overflow-hidden">
                            {/* Decorative Top Border */}
                            <div className={`absolute top-0 left-0 w-full h-2 ${youthGroup === 'ym' ? 'bg-blue-600' : 'bg-pink-500'}`}></div>

                            <h2 className="text-2xl font-serif font-bold text-stone-800 mt-4 mb-4">{data.title}</h2>
                            <p className="text-stone-600 leading-relaxed">{data.text}</p>
                            
                            <div className="mt-6 p-5 bg-stone-50 rounded-xl border border-stone-100">
                                <h3 className="font-bold text-stone-800 mb-2">{data.prompt.split(':')[0]}</h3>
                                <p className="text-stone-600">{data.prompt.split(':').slice(1).join(':')}</p>
                            </div>
                             <div className="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3">
                                {data.scriptureLink && (
                                    <a href={data.scriptureLink} target="_blank" className={`flex items-center justify-center gap-2 text-white py-3 rounded-lg font-medium transition ${youthGroup === 'ym' ? 'bg-blue-600 hover:bg-blue-700' : 'bg-pink-500 hover:bg-pink-600'}`}>
                                        <IconBookOpen className="w-4 h-4" /> Read Scripture: {data.scriptureRef}
                                    </a>
                                )}
                                <a href={data.lessonLink} target="_blank" className="flex items-center justify-center gap-2 bg-stone-200 text-stone-700 py-3 rounded-lg font-medium hover:bg-stone-300 transition">
                                    <IconLink className="w-4 h-4" /> Full Lesson
                                </a>
                            </div>
                             <button 
                                onClick={() => copyToClipboard(data)}
                                className="w-full mt-4 py-4 border-t border-stone-100 text-stone-500 hover:text-stone-800 font-medium flex items-center justify-center gap-2 transition-colors"
                            >
                                <IconShare className="w-4 h-4" /> Share Content
                            </button>
                        </div>
                    </div>
                );
            };

            const renderSongs = () => {
                const data = getActiveData(SONGS_DATA);
                return (
                    <div className="fade-in max-w-3xl mx-auto">
                         <div className="text-center bg-white p-6 rounded-2xl shadow-sm border border-stone-200 mb-6">
                            <div className="w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <IconMusic className="w-6 h-6 text-amber-700" />
                            </div>
                            <h2 className="text-2xl font-serif font-bold text-stone-800">Songs of the Soul</h2>
                            <p className="mt-2 text-stone-500 text-sm">Music to invite the Spirit into your daily study.</p>
                        </div>

                        <div className="bg-white p-6 rounded-2xl shadow-sm border border-stone-200">
                            <h3 className="text-lg font-bold text-stone-400 uppercase tracking-wider mb-4">Daily Selection</h3>
                            <h2 className="text-xl font-bold text-stone-800 mb-2">{data.title}</h2>
                            <p className="text-stone-600 italic mb-8 text-sm border-l-2 border-amber-300 pl-4">{data.devotionalText}</p>
                            
                            <div className="space-y-8">
                                {/* Hymn Section */}
                                <div>
                                    <span className="text-xs font-bold text-amber-600 tracking-widest uppercase mb-2 block flex items-center gap-2">
                                        <IconMusic className="w-3 h-3" /> Hymn Selection
                                    </span>
                                    <div className="flex items-start justify-between gap-4">
                                        <h3 className="text-xl font-serif font-bold text-stone-800">{data.hymnTitle}</h3>
                                        <a href={data.hymnLink} target="_blank" rel="noopener noreferrer" className="text-amber-600 hover:text-amber-700 transition-colors" aria-label="Play Song">
                                            <IconPlayCircle className="w-8 h-8" />
                                        </a>
                                    </div>
                                    <p className="mt-2 text-stone-600 text-sm leading-relaxed">{data.hymnAnalysis}</p>
                                </div>

                                <hr className="border-stone-100" />

                                {/* Song Section */}
                                <div>
                                    <span className="text-xs font-bold text-sky-600 tracking-widest uppercase mb-2 block flex items-center gap-2">
                                        <IconMusic className="w-3 h-3" /> Contemporary Song
                                    </span>
                                    <div className="flex items-start justify-between gap-4">
                                        <div>
                                            <h3 className="text-xl font-serif font-bold text-stone-800">{data.songTitle}</h3>
                                            <p className="text-xs text-stone-400 mb-2">by {data.songArtist}</p>
                                        </div>
                                        <a href={data.songLink} target="_blank" rel="noopener noreferrer" className="text-sky-600 hover:text-sky-700 transition-colors" aria-label="Play Song">
                                            <IconPlayCircle className="w-8 h-8" />
                                        </a>
                                    </div>
                                    <p className="mt-2 text-stone-600 text-sm leading-relaxed">{data.songAnalysis}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            };

            const renderStudy = () => {
                return (
                    <div className="fade-in max-w-6xl mx-auto pb-12">
                         <div id="printable-study-section" className="bg-white p-8 rounded-2xl shadow-sm border border-stone-200 relative">
                            
                            <div className="flex justify-between items-start mb-2">
                                 <div className="w-full">
                                    <h1 className="text-3xl font-serif font-bold text-center text-amber-800">Discussion Guide</h1>
                                 </div>
                                 <button 
                                    onClick={() => window.print()} 
                                    className="no-print absolute top-6 right-6 text-stone-400 hover:text-stone-600 hover:bg-stone-100 p-2 rounded-full transition-all"
                                    aria-label="Print Discussion Guide"
                                    title="Print Discussion Guide"
                                >
                                    <IconPrinter className="w-6 h-6" />
                                </button>
                            </div>

                            <p className="text-center text-stone-500 mb-8 italic">"{WEEK_INFO.title}"</p>
                            
                            {/* --- ADDED IMAGE HERE --- */}
                            <div className="mb-8">
                                <img 
                                    src="Graphic.jpg" 
                                    alt="Infographic: Old Testament" 
                                    className="w-full h-auto rounded-lg shadow-md border border-stone-200"
                                    onError={(e) => {e.target.style.display = 'none'}} 
                                />
                            </div>
                            {/* ------------------------ */}
                            
                            {STUDY_GUIDE_DATA.map((section, idx) => (
                                <div key={idx} className="mb-10 last:mb-0">
                                    <h2 className="text-xl font-bold text-stone-800 mb-3 border-b border-amber-100 pb-2">{section.title}</h2>
                                    
                                    {section.content && section.content.map((p, i) => (
                                        <p key={i} className="text-stone-700 mb-3 leading-relaxed">{p}</p>
                                    ))}

                                    {section.discussionPoint && (
                                        <div className="mb-4">
                                            <h3 className="text-amber-700 font-semibold text-sm uppercase mb-1">Context</h3>
                                            <p className="text-stone-700">{section.discussionPoint}</p>
                                        </div>
                                    )}

                                    {section.quote && (
                                        <blockquote className="border-l-4 border-stone-300 pl-4 py-1 my-4 text-stone-600 italic bg-stone-50 p-3 rounded-r-lg">
                                            {section.quote}
                                        </blockquote>
                                    )}

                                    {section.question && (
                                        <ToggleAnswer question={section.question} answer={section.answer} />
                                    )}

                                    {section.questions && section.questions.map((qItem, qIdx) => (
                                        <ToggleAnswer key={qIdx} question={qItem.q} answer={qItem.a} />
                                    ))}
                                </div>
                            ))}
                        </div>
                    </div>
                );
            };

            // Dynamic Footer based on view
            const renderFooter = () => (
                <footer className="p-6 text-center text-stone-400 text-xs">
                    <p>{WEEK_INFO.valediction}</p>
                </footer>
            );

            return (
                <div className="flex flex-col h-full bg-stone-100">
                    {/* Header */}
                    <header className="bg-white border-b border-stone-200 pt-6 pb-2 px-4 shadow-sm z-10">
                        <div className="max-w-4xl mx-auto text-center">
                            <h1 className="text-xs font-bold tracking-[0.2em] text-stone-400 uppercase mb-1">Come, Follow Me</h1>
                            <h2 className="text-lg sm:text-xl font-serif font-bold text-stone-800 leading-tight">{WEEK_INFO.title}</h2>
                            <p className="text-stone-500 text-xs mt-1 mb-4">{WEEK_INFO.dateRange}</p>

                            {/* Main Nav Tabs */}
                            <div className="flex justify-center space-x-1 sm:space-x-4 mt-4 overflow-x-auto hide-scrollbar pb-2">
                                <button onClick={() => setActiveTab('devotional')} className={`flex flex-col sm:flex-row items-center gap-2 px-4 py-2 rounded-xl transition-all ${activeTab === 'devotional' ? 'bg-amber-50 text-amber-700 ring-1 ring-amber-200' : 'text-stone-400 hover:text-stone-600'}`}>
                                    <IconSun className="w-5 h-5" />
                                    <span className="text-xs sm:text-sm font-medium">Daily</span>
                                </button>
                                <button onClick={() => setActiveTab('youth')} className={`flex flex-col sm:flex-row items-center gap-2 px-4 py-2 rounded-xl transition-all ${activeTab === 'youth' ? 'bg-amber-50 text-amber-700 ring-1 ring-amber-200' : 'text-stone-400 hover:text-stone-600'}`}>
                                    <IconUsers className="w-5 h-5" />
                                    <span className="text-xs sm:text-sm font-medium">Youth</span>
                                </button>
                                <button onClick={() => setActiveTab('songs')} className={`flex flex-col sm:flex-row items-center gap-2 px-4 py-2 rounded-xl transition-all ${activeTab === 'songs' ? 'bg-amber-50 text-amber-700 ring-1 ring-amber-200' : 'text-stone-400 hover:text-stone-600'}`}>
                                    <IconMusic className="w-5 h-5" />
                                    <span className="text-xs sm:text-sm font-medium">Music</span>
                                </button>
                                <button onClick={() => setActiveTab('study')} className={`flex flex-col sm:flex-row items-center gap-2 px-4 py-2 rounded-xl transition-all ${activeTab === 'study' ? 'bg-amber-50 text-amber-700 ring-1 ring-amber-200' : 'text-stone-400 hover:text-stone-600'}`}>
                                    <IconBookOpen className="w-5 h-5" />
                                    <span className="text-xs sm:text-sm font-medium">Study</span>
                                </button>
                            </div>
                        </div>
                    </header>

                    {/* Secondary Day Navigation (Horizontal Scroll) - Only show for Daily, Youth, Songs */}
                    {activeTab !== 'study' && (
                        <div className="bg-white border-b border-stone-200 py-2 px-4 shadow-sm z-10">
                            <div className="max-w-4xl mx-auto">
                                <div className="flex space-x-3 overflow-x-auto hide-scrollbar pb-1 sm:justify-center">
                                    {DEVOTIONAL_DATA.map((d) => (
                                        <button
                                            key={d.id}
                                            onClick={() => setActiveDayId(d.id)}
                                            className={`flex-shrink-0 flex flex-col items-center justify-center w-12 h-14 rounded-lg transition-all border ${activeDayId === d.id ? 'bg-stone-800 text-white border-stone-800 shadow-md transform scale-105' : 'bg-white text-stone-500 border-stone-200 hover:border-stone-300'}`}
                                        >
                                            <span className="text-[10px] font-bold uppercase">{d.day}</span>
                                            <span className={`text-lg font-bold leading-none ${activeDayId === d.id ? 'text-amber-400' : 'text-stone-800'}`}>{d.date.split(' ')[1]}</span>
                                        </button>
                                    ))}
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Content Area - Scrollable */}
                    <main className="flex-1 overflow-y-auto p-4 pb-20">
                        {activeTab === 'devotional' && renderDevotional()}
                        {activeTab === 'youth' && renderYouth()}
                        {activeTab === 'songs' && renderSongs()}
                        {activeTab === 'study' && renderStudy()}
                        {renderFooter()}
                    </main>

                    <Toast message="Copied to Clipboard!" show={showToast} onClose={() => setShowToast(false)} />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
