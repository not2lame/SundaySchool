<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Come, Follow Me Companion</title>
    
    <!-- Tailwind CSS (Styling) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts: Inter (Body) and Merriweather (Headings) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    
    <!-- Babel (to compile JSX in browser) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>

    <!-- Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Merriweather', 'serif'],
                    },
                    colors: {
                        stone: { 50: '#fafaf9', 100: '#f5f5f4', 200: '#e7e5e4', 300: '#d6d3d1', 400: '#a8a29e', 500: '#78716c', 600: '#57534e', 700: '#44403c', 800: '#292524', 900: '#1c1917' },
                        amber: { 50: '#fffbeb', 100: '#fef3c7', 200: '#fde68a', 300: '#fcd34d', 400: '#fbbf24', 500: '#f59e0b', 600: '#d97706', 700: '#b45309', 800: '#92400e', 900: '#78350f' }
                    }
                }
            }
        }
    </script>

    <style>
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Print Styles */
        @media print {
            body * {
                visibility: hidden;
            }
            #printable-study-section, #printable-study-section * {
                visibility: visible;
            }
            #printable-study-section {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                margin: 0;
                padding: 0;
                border: none;
                box-shadow: none;
            }
            .no-print {
                display: none !important;
            }
        }
    </style>
</head>
<body class="bg-stone-100 text-stone-800 h-screen flex flex-col overflow-hidden">

    <!-- Loading Fallback -->
    <div id="root" class="h-full flex flex-col">
        <div class="flex items-center justify-center h-full bg-stone-100 text-stone-500 p-4 text-center">
            <div>
                <h2 class="text-xl font-bold mb-2">Loading App...</h2>
                <p class="text-sm">If this takes longer than a few seconds, your network may be blocking the script libraries (React).</p>
            </div>
        </div>
    </div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // ==========================================
        // DATA CONSTANTS
        // ==========================================

        const WEEK_INFO = {
            title: "The First Testament of Jesus Christ",
            dateRange: "December 29, 2025 ‚Äì January 4, 2026",
            valediction: "By using the restored scriptures and the lens of hesed (covenant love), the Old Testament transforms from a book of ancient history into a powerful testament of the Savior's enduring love for His children."
        };

        const DEVOTIONAL_DATA = [
            { id: 'monday', day: 'Mon', fullDay: 'Monday', date: 'Dec 29', title: 'Don‚Äôt Miss the Treasure üíé', text: 'Archaeologists Howard Carter and Lord Carnarvon spent years searching for King Tut‚Äôs tomb, only to realize it was right beneath their base camp the entire time. Elder Dale G. Renlund teaches that we often "look beyond the mark" when we undervalue the simple, powerful truths of Jesus Christ that are right in front of us. As you start the Old Testament, remember that the greatest treasure to find is the Savior Himself.', prompt: 'Reflection: What are some "base camp" blessings‚Äîlike daily prayer or the scriptures‚Äîthat you might be overlooking in your search for spiritual growth?', scriptureRef: 'Jacob 4:14', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/bofm/jacob/4?lang=eng#p14', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' },
            { id: 'tuesday', day: 'Tue', fullDay: 'Tuesday', date: 'Dec 30', title: 'Seeing Him Everywhere üïØÔ∏è', text: 'The Lord told Adam, "All things have their likeness, and all things are created and made to bear record of me." From the manna in the wilderness to the brass serpent on a pole, the Old Testament is filled with symbols (or "types") of Jesus Christ. When we look for Him, these ancient stories become a personal "lamp unto [our] feet."', prompt: 'Challenge: Today, look for one "symbol" of Christ in your own life (e.g., a door, light, or water) and think about how it testifies of His role in your day.', scriptureRef: 'Moses 6:63', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/moses/6?lang=eng#p63', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' },
            { id: 'wednesday', day: 'Wed', fullDay: 'Wednesday', date: 'Dec 31', title: 'Meeting Jehovah ‚ö°', text: 'President Dallin H. Oaks teaches that when we read "God" or "the Lord" in the Old Testament, it is almost always Jehovah‚Äîthe premortal Jesus Christ. When Jesus told the Jews, "Before Abraham was, I am," He was identifying Himself as the Great I AM who spoke to Moses. He has been our Savior and Guide since the very beginning of the world.', prompt: 'Reflection: As you prepare to start a new year, how does knowing that Jesus Christ is the same "Great I AM" who delivered Israel give you confidence in your future?', scriptureRef: 'Exodus 3:14', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/ot/ex/3?lang=eng#p14', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' },
            { id: 'thursday', day: 'Thu', fullDay: 'Thursday', date: 'Jan 1', title: 'The Power of Hesed ‚ù§Ô∏è', text: 'Happy New Year! President Russell M. Nelson taught that when we make a covenant with God, we enter a relationship of hesed‚Äîa special kind of love and mercy where both parties are bound to be loyal to each other. Because of this bond, God will never tire in His efforts to help us. We have left "neutral ground" and are now bound to Him forever.', prompt: 'Challenge: Write down one covenant you have made with God and one way you have felt His hesed (loyal love) in the past year.', scriptureRef: 'Jeremiah 31:33', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/ot/jer/31?lang=eng#p33', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' },
            { id: 'friday', day: 'Fri', fullDay: 'Friday', date: 'Jan 2', title: 'Restoring Plain and Precious Truths üìñ', text: 'Nephi saw that many "plain and precious things" would be taken from the Bible over time. Through the Prophet Joseph Smith, the Lord restored many of these, such as the books of Moses and Abraham. These restorations allow us to see the Old Testament prophets as they truly were: followers of Christ who understood the plan of salvation from the start.', prompt: 'Reflection: How has the Book of Mormon or the Pearl of Great Price changed the way you view the teachings found in the Bible?', scriptureRef: '1 Nephi 13:40', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/bofm/1-ne/13?lang=eng#p40', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' },
            { id: 'saturday', day: 'Sat', fullDay: 'Saturday', date: 'Jan 3', title: 'A Foundation of Repentance ‚öì', text: 'Elder Renlund reminds us that our spiritual foundation is strengthened through the daily opportunity to repent and by worthily partaking of the sacrament. This creates a "virtuous cycle" that helps us retain a remission of our sins. Like Naaman who had to dip in the Jordan seven times, we find healing when we trust the simple, repeated counsel of the Lord\'s prophets.', prompt: 'Challenge: As you prepare for the sacrament tomorrow, identify one simple thing a living prophet has recently taught and make a plan to act on it.', scriptureRef: 'Alma 33:22', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/bofm/alma/33?lang=eng#p22', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' },
            { id: 'sunday', day: 'Sun', fullDay: 'Sunday', date: 'Jan 4', title: 'You Are His Peculiar Treasure üè∫', text: 'The Old Testament is the story of God seeking to make us His "peculiar treasure" (segullah), meaning a highly valued possession. You are a "child of the covenant," and because of that, you have access to strength that others may not. When you let God prevail in your life, you become "sin-resistant" and find the greatest joy possible.', prompt: 'Reflection: How does it change your self-worth to know that God views you as His "peculiar treasure" or most valued possession?', scriptureRef: 'Exodus 19:5', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/ot/ex/19?lang=eng#p5', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' }
        ];

        const YM_DATA = [
             { id: 'monday', day: 'Mon', date: 'Dec 29', title: 'Don\'t Walk Over the Gold ‚õèÔ∏è', text: 'Archaeologists Howard Carter and Lord Carnarvon spent five years digging in the Egyptian desert looking for King Tut‚Äôs tomb, only to realize it was buried right under their own base camp the whole time. Elder Dale G. Renlund warns that we often "look beyond the mark" by ignoring the simple, powerful truths of Jesus Christ that are right in front of us. As you start this year, don\'t miss the Savior while searching for something "exotic" or complicated. He is the real treasure.', prompt: 'Challenge: Today, find one "simple" gospel habit (like a 2-minute prayer) that you‚Äôve been doing on autopilot and do it with 100% focus on the Savior.', scriptureRef: 'Jacob 4:14', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/bofm/jacob/4?lang=eng#p14', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' },
            { id: 'tuesday', day: 'Tue', date: 'Dec 30', title: 'Meeting the "Great I AM" ‚ö°', text: 'When you read about "the Lord" or "God" in the Old Testament, you‚Äôre almost always reading about Jehovah‚Äîthe premortal Jesus Christ. He told the people of Israel, "Before Abraham was, I am," identifying Himself as the same God who spoke from the burning bush. He has been leading His people, and His Priesthood holders, from the very beginning.', prompt: 'Reflection: How does knowing that the Jesus Christ of the New Testament is the same powerful Jehovah of the Old Testament change how you feel about His ability to help you with your challenges?', scriptureRef: 'Exodus 3:14', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/ot/ex/3?lang=eng#p14', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' },
            { id: 'wednesday', day: 'Wed', date: 'Dec 31', title: 'The "Hesed" Connection ü§ù', text: 'Happy New Year‚Äôs Eve! President Russell M. Nelson teaches that when we make a covenant with God, we enter a relationship of hesed‚Äîa Hebrew word for a special kind of loyal love and mercy. Because you‚Äôve made Priesthood covenants, God will never tire in His efforts to help you. You aren‚Äôt on "neutral ground" anymore; you are bound to Him by a tie that is meant to be everlasting.', prompt: 'Challenge: Tonight, as you look toward 2026, thank Heavenly Father for His hesed (loyal love) and ask Him for the strength to be just as loyal to Him in the coming year.', scriptureRef: 'Jeremiah 31:33', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/ot/jer/31?lang=eng#p33', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' },
            { id: 'thursday', day: 'Thu', date: 'Jan 1', title: 'Priesthood Power Restored üõ†Ô∏è', text: 'Nephi saw that many "plain and precious things" would be taken from the Bible over the centuries. Through the Prophet Joseph Smith, the Lord restored truths like Enoch‚Äôs City of Zion and the ministry of Melchizedek that were lost. These restorations help us see that the Priesthood power you hold isn‚Äôt new‚Äîit‚Äôs the same power ancient prophets used to change the world.', prompt: 'Reflection: Why do you think the Lord felt it was so important to restore these "plain and precious" stories to us in the latter days?', scriptureRef: '1 Nephi 13:40', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/bofm/1-ne/13?lang=eng#p40', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' },
            { id: 'friday', day: 'Fri', date: 'Jan 2', title: 'Signs and Symbols üî≠', text: 'The Lord taught Adam that "all things are created and made to bear record of me." In the Old Testament, the manna that fell from heaven and the brass serpent Moses held up were symbols of Jesus Christ. As a Priesthood holder, when you pass the sacrament or perform an ordinance, you are also a living symbol of His love and power to those around you.', prompt: 'Challenge: Today, look at the bread or water you consume and think of how it "bears record" of the Savior‚Äôs role as the Bread of Life.', scriptureRef: 'Moses 6:63', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/moses/6?lang=eng#p63', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' },
            { id: 'saturday', day: 'Sat', date: 'Jan 3', title: 'Mission Ready Through Repentance ‚öì', text: 'Elder Renlund tells a story about stepping off a curb as a kid and being yanked back by his dad just before a truck hit him. He realized that repentance isn\'t just a "one-time" wash at baptism; it\'s a "virtuous cycle" that keeps us clean and mission-ready every single week. Like the Syrian commander Naaman who was healed of leprosy by simply dipping in a river seven times, we find power in simple, daily obedience.', prompt: 'Challenge: Prepare for the sacrament tomorrow by identifying one "simple" thing a living prophet has asked us to do and committing to do it this week.', scriptureRef: 'Alma 33:22', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/bofm/alma/33?lang=eng#p22', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' },
            { id: 'sunday', day: 'Sun', date: 'Jan 4', title: 'You Are His Segullah üè∫', text: 'The Old Testament says the Lord wants to make us a "peculiar treasure" unto Him. In Hebrew, that word is segullah, meaning a highly valued possession. President Nelson says those who keep their Priesthood covenants become "sin-resistant souls" who have the strength to stand against the world. You are more than just a regular teenager; you are His treasure.', prompt: 'Reflection: How does knowing God views you as a "highly valued possession" change how you treat yourself and others this week?', scriptureRef: 'Exodus 19:5', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/ot/ex/19?lang=eng#p5', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' }
        ];

        const YW_DATA = [
            { id: 'monday', day: 'Mon', date: 'Dec 29', title: 'Don‚Äôt Walk Over the Gold ‚õèÔ∏è', text: 'Archaeologists Howard Carter and Lord Carnarvon spent five years digging in the Egyptian desert looking for King Tut‚Äôs tomb, only to realize it was buried right under their own base camp the whole time. Elder Dale G. Renlund warns that we often "look beyond the mark" by ignoring the simple, powerful truths of Jesus Christ that are right in front of us. As you start this year, don\'t miss the Savior while searching for something "exotic" or complicated. He is the real treasure.', prompt: 'Reflection: What is one "simple" gospel blessing you might be overlooking today?', scriptureRef: 'Jacob 4:14', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/bofm/jacob/4?lang=eng#p14', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' },
            { id: 'tuesday', day: 'Tue', date: 'Dec 30', title: 'Seeing Him in Everything üïØÔ∏è', text: 'The Lord taught Adam that "all things are created and made to bear record of me." This means that in the Old Testament, things like manna from heaven or the brass serpent were actually symbols to help people think of Jesus. When we look for these "types" or symbols, we start to see the Savior‚Äôs hand in our lives every single day.', prompt: 'Challenge: Look around your room or school today. What is one object that reminds you of a quality of Jesus Christ (like a lamp for light or a rock for strength)?', scriptureRef: 'Moses 6:63', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/moses/6?lang=eng#p63', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' },
            { id: 'wednesday', day: 'Wed', date: 'Dec 31', title: 'Your "Hesed" Relationship ü§ù', text: 'Happy New Year‚Äôs Eve! President Nelson taught that when we make a covenant with God, we enter a relationship of hesed‚Äîa Hebrew word for a special, loyal love and mercy. This means God will never tire of helping you and He has high hopes for your life. Because of your covenants, you are bound to Him with a love that never gives up.', prompt: 'Reflection: As you think about the new year, how does it feel to know that God is personally loyal to you and will always offer you opportunities to change?', scriptureRef: 'Jeremiah 31:33', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/ot/jer/31?lang=eng#p33', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' },
            { id: 'thursday', day: 'Thu', date: 'Jan 1', title: 'The "I AM" is With You ‚ö°', text: 'Happy New Year! Did you know that when you see the word "Lord" in the Old Testament, it is almost always Jehovah‚Äîthe premortal Jesus Christ? When Jesus told the Jews, "Before Abraham was, I am," He was telling them He was the same God who saved Israel. The same Savior who worked miracles anciently is the one leading you today.', prompt: 'Challenge: Start your year off by telling the Lord in prayer that you want to "hear Him" more clearly this year.', scriptureRef: 'Exodus 3:14', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/ot/ex/3?lang=eng#p14', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' },
            { id: 'friday', day: 'Fri', date: 'Jan 2', title: 'Plain and Precious Truths üìñ', text: 'Nephi saw that many "plain and precious things" would be lost from the Bible over time. But through Joseph Smith, the Lord restored stories we wouldn\'t otherwise have‚Äîlike the ministry of Melchizedek and Enoch‚Äôs city of Zion. These restorations help us see our covenant relationship with God more clearly and remind us of who we truly are.', prompt: 'Reflection: Why do you think having "extra" books like the Pearl of Great Price helps us understand the Bible better?', scriptureRef: '1 Nephi 13:40', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/bofm/1-ne/13?lang=eng#p40', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' },
            { id: 'saturday', day: 'Sat', date: 'Jan 3', title: 'Staying Clean and Strong ‚öì', text: 'Elder Renlund tells a story about how he almost got hit by a truck as a kid, but his dad pulled him back just in time. He realized that we don\'t just get "washed" once at baptism; we stay clean through the "virtuous cycle" of the sacrament and daily repentance. This spiritual foundation gives us the strength to handle any "wind or floods" that come our way.', prompt: 'Challenge: As you prepare for the sacrament tomorrow, think of one small way you can focus more intentionally on the Savior during the meeting.', scriptureRef: 'Alma 33:22', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/bofm/alma/33?lang=eng#p22', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' },
            { id: 'sunday', day: 'Sun', date: 'Jan 4', title: 'You Are a Peculiar Treasure üè∫', text: 'In the Old Testament, the Lord says He wants to make us His "peculiar treasure." In Hebrew, this word is segullah, which means a "highly valued possession." President Nelson says that when you keep your covenants, you become a "sin-resistant soul" with the strength to resist the world. You are deeply loved and so valuable to Him!', prompt: 'Reflection: How does knowing you are God\'s "highly valued possession" change the way you feel about your social media or your friendships this week?', scriptureRef: 'Exodus 19:5', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/ot/ex/19?lang=eng#p5', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng' }
        ];

        const SONGS_DATA = [
            { id: 'monday', day: 'Mon', title: 'Don‚Äôt Miss the Treasure üíé', devotionalText: 'Archaeologists Howard Carter and Lord Carnarvon spent years searching for King Tut‚Äôs tomb, only to realize it was right beneath their base camp the entire time. Elder Dale G. Renlund teaches that we often "look beyond the mark" when we undervalue the simple, powerful truths of Jesus Christ that are right in front of us. As you start the Old Testament, remember that the greatest treasure to find is the Savior Himself.', 
                hymnTitle: 'Jesus, the Very Thought of Thee', hymnLink: 'https://www.youtube.com/watch?v=4y-VgYiJ5x0', hymnAnalysis: 'This hymn perfectly encapsulates the devotional\'s warning against "looking beyond the mark." While we often search for complex answers or grand signs (the "distant treasure"), the hymn brings us back to the simple, profound reality that "Jesus, the very thought of thee with sweetness fills my breast." The lyrics remind us that the greatest joy is not found in the chase for the unknown, but in the present, simple contemplation of our Savior. It centers the heart on the "base camp" blessing of His presence.', 
                songTitle: 'Turn Your Eyes Upon Jesus', songArtist: 'Lauren Daigle', songLink: 'https://www.youtube.com/watch?v=EQTtkr2zVxg', songAnalysis: 'The devotional warns us that we often miss the treasure because we "look beyond the mark." This gentle, contemporary arrangement of a classic hymn provides the perfect spiritual antidote: an invitation to stop searching the horizon and instead "Turn your eyes upon Jesus, look full in His wonderful face." It teaches that when we focus on the simple, central truth of the Savior‚Äîthe treasure right in front of us‚Äîthe distractions and complexities of the world "grow strangely dim," allowing us to see what truly matters.' },
            { id: 'tuesday', day: 'Tue', title: 'Seeing Him Everywhere üïØÔ∏è', devotionalText: 'The Lord told Adam, "All things have their likeness, and all things are created and made to bear record of me." From the manna in the wilderness to the brass serpent on a pole, the Old Testament is filled with symbols (or "types") of Jesus Christ. When we look for Him, these ancient stories become a personal "lamp unto [our] feet."', 
                hymnTitle: 'Guide Us, O Thou Great Jehovah', hymnLink: 'https://www.youtube.com/watch?v=UYjqWLY9OTA', hymnAnalysis: 'This hymn is a masterclass in Old Testament typology. The lyrics explicitly reference the symbols mentioned in the devotional theme: the "crystal fountain" (water from the rock) and the "fire and cloudy pillar" (God\'s presence leading Israel). By singing this prayer to "Great Jehovah," we actively practice seeing Him in the symbols of the Exodus. It reinforces the idea that the physical miracles of the Old Testament were "likenesses" designed to bear record of His delivering power.', 
                songTitle: 'Thy Word', songArtist: 'Amy Grant', songLink: 'https://www.youtube.com/watch?v=mIwyhkI6NcE', songAnalysis: 'The devotional suggests that when we look for Christ in the Old Testament, the stories become a "lamp unto [our] feet." Amy Grant\'s classic song is based directly on Psalm 119:105, "Thy word is a lamp unto my feet." The song humanizes this scripture, turning it into a confession of reliance on God\'s guidance. Listening to this track helps bridge the gap between ancient scripture and modern life, reminding us that the "symbols" we see in the text are meant to light our personal path today.' },
            { id: 'wednesday', day: 'Wed', title: 'Meeting Jehovah ‚ö°', devotionalText: 'President Dallin H. Oaks teaches that when we read "God" or "the Lord" in the Old Testament, it is almost always Jehovah‚Äîthe premortal Jesus Christ. When Jesus told the Jews, "Before Abraham was, I am," He was identifying Himself as the Great I AM who spoke to Moses. He has been our Savior and Guide since the very beginning of the world.', 
                hymnTitle: 'Redeemer of Israel', hymnLink: 'https://www.youtube.com/watch?v=qIK4rXTG8KQ', hymnAnalysis: 'This hymn is one of the few that directly addresses the Savior by His Old Testament title, linking "Redeemer of Israel" with "Our only delight." It bridges the identity of the God of the Old Testament with the personal Savior of the New. The lyrics speak of Him as a "shadow by day and a pillar by night," reinforcing the devotional\'s teaching that the Jesus we worship today is the same being who led Israel. It provides the "confidence in your future" mentioned in the reflection by reminding us of His past faithfulness.', 
                songTitle: 'El Shaddai', songArtist: 'Amy Grant', songLink: 'https://www.youtube.com/watch?v=282ZvLy5fxE', songAnalysis: '"El Shaddai" is a profound musical exploration of the identity of Jehovah. The song weaves together the Hebrew names of God found in the Old Testament (El Shaddai, El Elyon, Erkamka Adonai) and connects them directly to the life and ministry of Jesus Christ. It musically narrates the continuity of the "Great I AM" from the sacrifice of Isaac to the cross. Listening to this helps us emotionally connect with the grandeur of the God we are meeting in the Old Testament text.' },
            { id: 'thursday', day: 'Thu', title: 'The Power of Hesed ‚ù§Ô∏è', devotionalText: 'Happy New Year! President Russell M. Nelson teaches that when we make a covenant with God, we enter a relationship of hesed‚Äîa special kind of love and mercy where both parties are bound to be loyal to each other. Because of this bond, God will never tire in His efforts to help us. We have left "neutral ground" and are now bound to Him forever.', 
                hymnTitle: 'I Feel My Savior‚Äôs Love', hymnLink: 'https://www.youtube.com/watch?v=jfWKuEex6hQ', hymnAnalysis: 'The concept of hesed‚Äîloyal, covenant love‚Äîis beautifully captured in the line, "He knows I will follow him, give all my life to him." This hymn moves beyond a general feeling of affection to a reciprocal relationship of loyalty and discipleship, which is the heart of covenant making. The assurance that "His love is freely given" matches the devotional\'s promise that God "will never tire in His efforts to help us." It is a musical testimony of the security found in being bound to Him.', 
                songTitle: 'His Mercy Is More', songArtist: 'Shane & Shane', songLink: 'https://www.youtube.com/watch?v=uBZk0bVjCAA', songAnalysis: 'This song perfectly articulates the "mercy" aspect of hesed. The lyrics, "Our sins they are many, His mercy is more," reflect the relentless nature of God\'s covenant love described by President Nelson. The song teaches that because of this bond, God\'s love is stronger than our failures ("stronger than darkness"). It encourages us to leave "neutral ground" and trust entirely in the loyal love of a God who is bound to us not by our perfection, but by His covenant character.' },
            { id: 'friday', day: 'Fri', title: 'Restoring Plain and Precious Truths üìñ', devotionalText: 'Nephi saw that many "plain and precious things" would be taken from the Bible over time. Through the Prophet Joseph Smith, the Lord restored many of these, such as the books of Moses and Abraham. These restorations allow us to see the Old Testament prophets as they truly were: followers of Christ who understood the plan of salvation from the start.', 
                hymnTitle: 'The Spirit of God', hymnLink: 'https://www.youtube.com/watch?v=608cbv7Qe_A', hymnAnalysis: 'This anthemic hymn is the definitive musical celebration of the Restoration. Its lyrics directly address the day\'s theme of recovering lost truths: "The visions and blessings of old are returning... and angels are coming to visit the earth." It perfectly captures the excitement and magnitude of restoring the "plain and precious things" mentioned in the devotional. Listening to this hymn helps us feel the triumph of having the "understanding of the plan of salvation from the start" restored to us in the latter days.', 
                songTitle: 'Ancient Words', songArtist: 'Michael W. Smith', songLink: 'https://www.youtube.com/watch?v=pHpFIN9N2xw', songAnalysis: 'This song celebrates the enduring power of scripture and the "holy words long preserved." It aligns with the theme of valuing the restored truths that allow us to see the prophets "as they truly were." The chorus, "Ancient words, ever true, changing me and changing you," invites us to let these restored plain and precious truths penetrate our hearts. It turns the intellectual concept of "restoration" into a personal plea for the ancient words to shape our modern lives.' },
            { id: 'saturday', day: 'Sat', title: 'A Foundation of Repentance ‚öì', devotionalText: 'Elder Renlund reminds us that our spiritual foundation is strengthened through the daily opportunity to repent and by worthily partaking of the sacrament. This creates a "virtuous cycle" that helps us retain a remission of our sins. Like Naaman who had to dip in the Jordan seven times, we find healing when we trust the simple, repeated counsel of the Lord\'s prophets.', 
                hymnTitle: 'How Gentle God\'s Commands', hymnLink: 'https://www.youtube.com/watch?v=0SOntM9fDHk', hymnAnalysis: 'The story of Naaman mentioned in the devotional illustrates that healing often comes through simple, gentle acts of obedience. This hymn reinforces that truth with the lyrics, "How gentle God\'s commands! How kind his precepts are!" It reminds us that the "virtuous cycle" of repentance and the sacrament is not a heavy burden, but a relief ("Come, cast your burdens on the Lord"). The melody itself is soothing, reflecting the peace that comes from trusting the simple counsel of the prophets.', 
                songTitle: 'Clean', songArtist: 'Natalie Grant', songLink: 'https://www.youtube.com/watch?v=2BfZ3KKKg9c', songAnalysis: '"Clean" is a powerful anthem of the healing that comes through repentance. It emotionally connects to the story of Naaman washing in the Jordan River with the plea, "Wash me clean." The song acknowledges the brokenness we often feel ("shattered," "dirty") and testifies of the restoration that happens when we submit to the Lord\'s healing power. It serves as a perfect preparation for the sacrament, focusing the heart on the "remission of sins" mentioned in the devotional.' },
            { id: 'sunday', day: 'Sun', title: 'You Are His Peculiar Treasure üè∫', devotionalText: 'The Old Testament is the story of God seeking to make us His "peculiar treasure" (segullah), meaning a highly valued possession. You are a "child of the covenant," and because of that, you have access to strength that others may not. When you let God prevail in your life, you become "sin-resistant" and find the greatest joy possible.', 
                hymnTitle: 'Dearest Children, God is Near You', hymnLink: 'https://www.youtube.com/watch?v=dODjF2X7f8Q', hymnAnalysis: 'This hymn speaks directly to the identity of the listener as a child of God, echoing the "peculiar treasure" theme. The comforting assurance that "God is near you" and "He will bless you" reinforces the special access to strength mentioned in the devotional. The lyrics describe a protective, attentive Father, which aligns with the idea of being His "highly valued possession." It is a musical embrace, reminding us of our immense worth in His eyes.', 
                songTitle: 'You Say', songArtist: 'Lauren Daigle', songLink: 'https://www.youtube.com/watch?v=QoBxmksE1GM', songAnalysis: 'In a world that often attacks self-worth, this song is a defiant declaration of identity based on God\'s word. The lyric "You say I am yours, and I believe" is the modern equivalent of accepting our status as His segullah (treasure). The devotional asks how this knowledge changes our self-worth; this song provides the answer: it anchors us when we feel weak or unworthy. It is a powerful affirmation that our value is determined by the Covenant Maker, not by our own perceived flaws.' }
        ];

        const STUDY_GUIDE_DATA = [
            {
                title: "Background",
                content: [
                    "This week marks the beginning of a new year of study in Come, Follow Me. The manual emphasizes that while the Old Testament is an ancient collection of writings that can be intimidating, it is first and foremost a testament of Jesus Christ.",
                    "The lesson focuses on reframing our study to see the Old Testament not just as history, but as a guide to understanding our covenant relationship with God. It establishes the foundational truth that the God of the Old Testament, Jehovah, is the pre-mortal Jesus Christ.",
                    <span>Full Lesson: <a href="https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng" target="_blank" rel="noopener noreferrer" className="text-amber-600 hover:underline break-all">https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-old-testament-2026/01?lang=eng</a></span>
                ]
            },
            {
                title: "Introduction: Approaching the Old Testament",
                discussionPoint: "The manual acknowledges that feelings of intimidation, uncertainty, or fear are normal when approaching the Old Testament. It is one of the oldest collections of writings in the world and comes from a culture that can seem foreign and uncomfortable. However, the manual suggests we look past the strangeness to find the familiar: people experiencing family joy, discord, failure, and faith‚Äîjust like us.",
                questions: [
                    {
                        q: "Why do we sometimes feel intimidated by the Old Testament, and how does viewing it through the lens of \"real families with real struggles\" change that perspective?",
                        a: "‚Ä¢ We are often intimidated by the ancient culture or the feeling that it is \"foreign\" or \"strange\".\n‚Ä¢ Viewing it as a record of real people helps us see that they experienced successes, failures, and family discord just like we do.\n‚Ä¢ It reminds us that despite their different circumstances, they exercised faith and repented, which encourages us to do the same."
                    }
                ]
            },
            {
                title: "Jesus Christ is the Treasure",
                discussionPoint: "Elder Dale G. Renlund‚Äôs article, \"Jesus Christ Is the Treasure,\" compares our scripture study to the discovery of King Tutankhamun‚Äôs tomb. Archaeologists spent years digging but \"looked beyond the mark,\" missing the treasure that was literally under their feet near their base camp. Similarly, we can study the Old Testament for history or facts but miss the true treasure: Jesus Christ. Elder Renlund warns that looking for things we cannot understand rather than plain truths causes spiritual blindness.",
                quote: "Moses 6:63: \"All things have their likeness, and all things are created and made to bear record of me.\"",
                questions: [
                    {
                        q: "Elder Renlund warns against \"looking beyond the mark\". What are some specific \"marks\" or symbols of Christ we should be looking for in the Old Testament this year?",
                        a: "‚Ä¢ The Manna, which represents the Bread of Life.\n‚Ä¢ The Sacrificial Lamb, which points to the Savior's sacrifice.\n‚Ä¢ The Brass Serpent, symbolizing looking to Christ to live.\n‚Ä¢ Jonah, whose three days in the whale typify Christ's burial and resurrection."
                    }
                ]
            },
            {
                title: "Jehovah is Jesus Christ",
                discussionPoint: "President Dallin H. Oaks clarifies a critical doctrine: The \"Lord\" or \"God\" speaking to Moses, Abraham, and the prophets is almost always Jehovah, the pre-mortal Jesus Christ. This is based on the Father‚Äôs direction to \"hear Him\" (the Son). This realization bridges the gap between the Old and New Testaments‚Äîthey testify of the same Being.",
                quote: "Exodus 3:14 and John 8:58: \"Before Abraham was, I am.\"",
                questions: [
                    {
                        q: "How does knowing that the \"Lord\" speaking in the Old Testament is actually Jesus Christ change the way you read the text?",
                        a: "‚Ä¢ It helps us realize that the Creator and the Savior are the same person.\n‚Ä¢ It clarifies that the \"God of the Old Testament\" is not different from the \"God of the New Testament\"‚ÄîHis mercy and justice are consistent.\n‚Ä¢ It connects the voice we hear in the Old Testament to the Savior we worship today."
                    }
                ]
            },
            {
                title: "The Everlasting Covenant",
                discussionPoint: "The manual links to President Russell M. Nelson‚Äôs teaching on the \"Everlasting Covenant\". He explains that the Hebrew word hesed describes a special kind of covenant love and mercy. Because of this covenant, God will never abandon His relationship with those who have bonded themselves to Him. The Old Testament is essentially the story of God seeking to make us His \"peculiar treasure\" through this covenant relationship.",
                quote: "Exodus 19:5: \"If ye will obey my voice indeed, and keep my covenant, then ye shall be a peculiar treasure unto me.\"",
                questions: [
                    {
                        q: "President Nelson taught that \"all those who have made a covenant with God have access to a special kind of love and mercy\". How might looking for this hesed (covenant love) change how we interpret the stories of Israel‚Äôs struggles?",
                        a: "‚Ä¢ It helps us see God's actions as efforts to bring His people back, rather than just punishment.\n‚Ä¢ It explains why God continues to work with them despite their mistakes.\n‚Ä¢ It reassures us that because of our covenants, He will not tire in His efforts to help us today."
                    }
                ]
            },
            {
                title: "Plain and Precious Things",
                discussionPoint: "As Latter-day Saints, we have a distinct advantage in studying the Old Testament. Through the Restoration, we have the Book of Moses, the Book of Abraham, and the Joseph Smith Translation (JST). These books restore \"plain and precious\" truths that were lost, clarifying the nature of God, the Fall, and the pre-mortal existence.",
                quote: "1 Nephi 13:40: The Lord promised to \"make known the plain and precious things which have been taken away.\"",
                questions: [
                    {
                        q: "The manual mentions specific restored accounts like Enoch‚Äôs city of Zion or Abraham‚Äôs vision of the pre-mortal council. Why are these \"plain and precious\" truths important to your personal understanding of the gospel?",
                        a: "‚Ä¢ They help us understand the purpose of life and the plan of salvation more clearly.\n‚Ä¢ They show that the gospel was taught from the beginning, starting with Adam.\n‚Ä¢ They confirm that the Bible and the Book of Mormon work together to testify of Christ."
                    }
                ]
            },
            {
                title: "Lesson Summary",
                content: [
                    "As we begin this year of study, we are invited to look for Jesus Christ on every page of the Old Testament. He is the Treasure we must not overlook; He is the Great \"I Am\" speaking to the prophets; and He is the maker of the Everlasting Covenant. By using the restored scriptures and the lens of hesed (covenant love), the Old Testament transforms from a book of ancient history into a powerful testament of the Savior's enduring love for His children."
                ]
            }
        ];

        // ==========================================
        // ICONS (Inline SVG Components)
        // ==========================================
        const IconSun = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>;
        const IconUsers = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>;
        const IconMusic = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>;
        const IconBookOpen = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>;
        const IconShare = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" x2="15.42" y1="13.51" y2="17.49"/><line x1="15.41" x2="8.59" y1="6.51" y2="10.49"/></svg>;
        const IconChevronDown = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m6 9 6 6 6-6"/></svg>;
        const IconChevronRight = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m9 18 6-6-6-6"/></svg>;
        const IconLink = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>;
        const IconPlayCircle = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><polygon points="10 8 16 12 10 16 10 8"/></svg>;
        const IconPrinter = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect></svg>;


        // ==========================================
        // COMPONENTS
        // ==========================================

        // 1. Toast Notification Component
        const Toast = ({ message, show, onClose }) => {
            useEffect(() => {
                if (show) {
                    const timer = setTimeout(onClose, 3000);
                    return () => clearTimeout(timer);
                }
            }, [show, onClose]);

            if (!show) return null;

            return (
                <div className="fixed bottom-24 left-1/2 transform -translate-x-1/2 bg-stone-800 text-white px-6 py-3 rounded-full shadow-lg z-50 flex items-center gap-2 animate-bounce toast-notification">
                    <span className="text-green-400">&#10003;</span>
                    {message}
                </div>
            );
        };

        // 2. Interactive Toggle Answer Component
        const ToggleAnswer = ({ question, answer }) => {
            const [isOpen, setIsOpen] = useState(false);

            return (
                <div className="mb-6 border-l-4 border-amber-200 pl-4">
                    <button 
                        onClick={() => setIsOpen(!isOpen)}
                        className="text-left font-bold text-amber-900 w-full hover:text-amber-700 transition-colors flex items-start gap-2"
                    >
                        <span className="mt-1">{isOpen ? <IconChevronDown className="w-5 h-5" /> : <IconChevronRight className="w-5 h-5" />}</span>
                        <span>{question}</span>
                    </button>
                    
                    {isOpen && (
                        <div className="mt-3 p-4 bg-stone-100 rounded-lg text-stone-700 italic border border-stone-200 fade-in">
                            <span className="font-bold not-italic text-stone-500 text-xs uppercase tracking-wider block mb-1">Possible Answer</span>
                            <div className="whitespace-pre-line">{answer}</div>
                        </div>
                    )}
                </div>
            );
        };

        // 3. Main App Component
        const App = () => {
            const [activeTab, setActiveTab] = useState('devotional');
            const [activeDayId, setActiveDayId] = useState('');
            const [showToast, setShowToast] = useState(false);
            const [youthGroup, setYouthGroup] = useState('ym'); // 'ym' or 'yw'

            // Initialize Day based on current date
            useEffect(() => {
                const dayMap = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];
                const todayIndex = new Date().getDay();
                setActiveDayId(dayMap[todayIndex]);
            }, []);

            const getActiveData = (dataArray) => {
                return dataArray.find(d => d.id === activeDayId) || dataArray[0];
            };

            const copyToClipboard = (dayData) => {
                const promptParts = dayData.prompt.split(':');
                const promptLabel = promptParts[0];
                const promptText = promptParts.slice(1).join(':').trim();
                const scriptureText = (dayData.scriptureRef && dayData.scriptureLink)
                    ? `Scripture: ${dayData.scriptureRef}\n${dayData.scriptureLink}\n\n`
                    : ""; 

                // Use dayData.date if available, otherwise fallback to empty string or generic
                const dateStr = dayData.date ? dayData.date : "";

                const textToCopy = `‚ú® Daily Devotional ‚ú®\n\n${dateStr}\n*${dayData.title}*\n\n${dayData.text}\n\n*${promptLabel}:* ${promptText}\n\n${scriptureText}Full Lesson:\n${dayData.lessonLink}`;

                // Modern clipboard API
                if (navigator.clipboard && navigator.clipboard.writeText) {
                      navigator.clipboard.writeText(textToCopy).then(() => {
                        setShowToast(true);
                    }).catch(err => {
                        fallbackCopy(textToCopy);
                    });
                } else {
                    fallbackCopy(textToCopy);
                }
            };

            const fallbackCopy = (text) => {
                 try {
                    const textArea = document.createElement("textarea");
                    textArea.value = text;
                    
                    // Avoid scrolling to bottom
                    textArea.style.top = "0";
                    textArea.style.left = "0";
                    textArea.style.position = "fixed";
        
                    document.body.appendChild(textArea);
                    textArea.focus();
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    setShowToast(true);
                 } catch (err) {
                     console.error("Fallback copy failed", err);
                 }
            };

            const renderDevotional = () => {
                const data = getActiveData(DEVOTIONAL_DATA);
                return (
                    <div className="space-y-6 fade-in max-w-2xl mx-auto">
                        <div className="bg-white p-6 rounded-2xl shadow-sm border border-stone-200">
                            <span className="text-amber-600 text-sm font-bold uppercase tracking-widest">{data.date}</span>
                            <h2 className="text-3xl font-serif font-bold text-stone-800 mt-2 mb-4">{data.title}</h2>
                            <p className="text-stone-600 leading-relaxed text-lg">{data.text}</p>
                            
                            <div className="mt-8 p-5 bg-amber-50 rounded-xl border border-amber-100">
                                <h3 className="font-bold text-amber-900 mb-2 flex items-center gap-2">
                                    <span className="w-2 h-2 bg-amber-500 rounded-full"></span>
                                    {data.prompt.split(':')[0]}
                                </h3>
                                <p className="text-stone-700 italic">{data.prompt.split(':').slice(1).join(':')}</p>
                            </div>

                            <div className="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3">
                                {data.scriptureLink && (
                                    <a href={data.scriptureLink} target="_blank" className="flex items-center justify-center gap-2 bg-amber-600 text-white py-3 rounded-lg font-medium hover:bg-amber-700 transition">
                                        <IconBookOpen className="w-4 h-4" /> Read Scripture: {data.scriptureRef}
                                    </a>
                                )}
                                <a href={data.lessonLink} target="_blank" className="flex items-center justify-center gap-2 bg-stone-200 text-stone-700 py-3 rounded-lg font-medium hover:bg-stone-300 transition">
                                    <IconLink className="w-4 h-4" /> Full Lesson
                                </a>
                            </div>

                            <button 
                                onClick={() => copyToClipboard(data)}
                                className="w-full mt-4 py-4 border-t border-stone-100 text-stone-500 hover:text-amber-600 font-medium flex items-center justify-center gap-2 transition-colors"
                            >
                                <IconShare className="w-4 h-4" /> Share Devotional
                            </button>
                        </div>
                    </div>
                );
            };

            const renderYouth = () => {
                const data = getActiveData(youthGroup === 'ym' ? YM_DATA : YW_DATA);
                return (
                    <div className="fade-in max-w-3xl mx-auto">
                        {/* Toggle Switch for YM/YW */}
                        <div className="flex justify-center mb-6 bg-stone-200 p-1 rounded-xl inline-flex w-full sm:w-auto mx-auto">
                            <button 
                                onClick={() => setYouthGroup('ym')}
                                className={`flex-1 sm:flex-none px-8 py-2 rounded-lg font-bold transition-all ${youthGroup === 'ym' ? 'bg-white shadow-sm text-amber-700' : 'text-stone-500 hover:text-stone-700'}`}
                            >
                                Young Men
                            </button>
                            <button 
                                onClick={() => setYouthGroup('yw')}
                                className={`flex-1 sm:flex-none px-8 py-2 rounded-lg font-bold transition-all ${youthGroup === 'yw' ? 'bg-white shadow-sm text-amber-700' : 'text-stone-500 hover:text-stone-700'}`}
                            >
                                Young Women
                            </button>
                        </div>

                        <div className="bg-white p-6 rounded-2xl shadow-sm border border-stone-200 relative overflow-hidden">
                            {/* Decorative Top Border */}
                            <div className={`absolute top-0 left-0 w-full h-2 ${youthGroup === 'ym' ? 'bg-blue-600' : 'bg-pink-500'}`}></div>

                            <h2 className="text-2xl font-serif font-bold text-stone-800 mt-4 mb-4">{data.title}</h2>
                            <p className="text-stone-600 leading-relaxed">{data.text}</p>
                            
                            <div className="mt-6 p-5 bg-stone-50 rounded-xl border border-stone-100">
                                <h3 className="font-bold text-stone-800 mb-2">{data.prompt.split(':')[0]}</h3>
                                <p className="text-stone-600">{data.prompt.split(':').slice(1).join(':')}</p>
                            </div>
                             <div className="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3">
                                {data.scriptureLink && (
                                    <a href={data.scriptureLink} target="_blank" className={`flex items-center justify-center gap-2 text-white py-3 rounded-lg font-medium transition ${youthGroup === 'ym' ? 'bg-blue-600 hover:bg-blue-700' : 'bg-pink-500 hover:bg-pink-600'}`}>
                                        <IconBookOpen className="w-4 h-4" /> Read Scripture: {data.scriptureRef}
                                    </a>
                                )}
                                <a href={data.lessonLink} target="_blank" className="flex items-center justify-center gap-2 bg-stone-200 text-stone-700 py-3 rounded-lg font-medium hover:bg-stone-300 transition">
                                    <IconLink className="w-4 h-4" /> Full Lesson
                                </a>
                            </div>
                             <button 
                                onClick={() => copyToClipboard(data)}
                                className="w-full mt-4 py-4 border-t border-stone-100 text-stone-500 hover:text-stone-800 font-medium flex items-center justify-center gap-2 transition-colors"
                            >
                                <IconShare className="w-4 h-4" /> Share Content
                            </button>
                        </div>
                    </div>
                );
            };

            const renderSongs = () => {
                const data = getActiveData(SONGS_DATA);
                return (
                    <div className="fade-in max-w-3xl mx-auto">
                         <div className="text-center bg-white p-6 rounded-2xl shadow-sm border border-stone-200 mb-6">
                            <div className="w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <IconMusic className="w-6 h-6 text-amber-700" />
                            </div>
                            <h2 className="text-2xl font-serif font-bold text-stone-800">Songs of the Soul</h2>
                            <p className="mt-2 text-stone-500 text-sm">Music to invite the Spirit into your daily study.</p>
                        </div>

                        <div className="bg-white p-6 rounded-2xl shadow-sm border border-stone-200">
                            <h3 className="text-lg font-bold text-stone-400 uppercase tracking-wider mb-4">Daily Selection</h3>
                            <h2 className="text-xl font-bold text-stone-800 mb-2">{data.title}</h2>
                            <p className="text-stone-600 italic mb-8 text-sm border-l-2 border-amber-300 pl-4">{data.devotionalText}</p>
                            
                            <div className="space-y-8">
                                {/* Hymn Section */}
                                <div>
                                    <span className="text-xs font-bold text-amber-600 tracking-widest uppercase mb-2 block flex items-center gap-2">
                                        <IconMusic className="w-3 h-3" /> Hymn Selection
                                    </span>
                                    <div className="flex items-start justify-between gap-4">
                                        <h3 className="text-xl font-serif font-bold text-stone-800">{data.hymnTitle}</h3>
                                        <a href={data.hymnLink} target="_blank" rel="noopener noreferrer" className="text-amber-600 hover:text-amber-700 transition-colors" aria-label="Play Song">
                                            <IconPlayCircle className="w-8 h-8" />
                                        </a>
                                    </div>
                                    <p className="mt-2 text-stone-600 text-sm leading-relaxed">{data.hymnAnalysis}</p>
                                </div>

                                <hr className="border-stone-100" />

                                {/* Song Section */}
                                <div>
                                    <span className="text-xs font-bold text-sky-600 tracking-widest uppercase mb-2 block flex items-center gap-2">
                                        <IconMusic className="w-3 h-3" /> Contemporary Song
                                    </span>
                                    <div className="flex items-start justify-between gap-4">
                                        <div>
                                            <h3 className="text-xl font-serif font-bold text-stone-800">{data.songTitle}</h3>
                                            <p className="text-xs text-stone-400 mb-2">by {data.songArtist}</p>
                                        </div>
                                        <a href={data.songLink} target="_blank" rel="noopener noreferrer" className="text-sky-600 hover:text-sky-700 transition-colors" aria-label="Play Song">
                                            <IconPlayCircle className="w-8 h-8" />
                                        </a>
                                    </div>
                                    <p className="mt-2 text-stone-600 text-sm leading-relaxed">{data.songAnalysis}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            };

            const renderStudy = () => {
                return (
                    <div className="fade-in max-w-6xl mx-auto pb-12">
                         <div id="printable-study-section" className="bg-white p-8 rounded-2xl shadow-sm border border-stone-200 relative">
                            
                            <div className="flex justify-between items-start mb-2">
                                 <div className="w-full">
                                    <h1 className="text-3xl font-serif font-bold text-center text-amber-800">Discussion Guide</h1>
                                 </div>
                                 <button 
                                    onClick={() => window.print()} 
                                    className="no-print absolute top-6 right-6 text-stone-400 hover:text-stone-600 hover:bg-stone-100 p-2 rounded-full transition-all"
                                    aria-label="Print Discussion Guide"
                                    title="Print Discussion Guide"
                                >
                                    <IconPrinter className="w-6 h-6" />
                                </button>
                            </div>

                            <p className="text-center text-stone-500 mb-8 italic">"{WEEK_INFO.title}"</p>
                            
                            {/* --- ADDED IMAGE HERE --- */}
                            <div className="mb-8">
                                <img 
                                    src="Graphic.jpg" 
                                    alt="Infographic: Old Testament" 
                                    className="w-full h-auto rounded-lg shadow-md border border-stone-200"
                                    onError={(e) => {e.target.style.display = 'none'}} 
                                />
                            </div>
                            {/* ------------------------ */}
                            
                            {STUDY_GUIDE_DATA.map((section, idx) => (
                                <div key={idx} className="mb-10 last:mb-0">
                                    <h2 className="text-xl font-bold text-stone-800 mb-3 border-b border-amber-100 pb-2">{section.title}</h2>
                                    
                                    {section.content && section.content.map((p, i) => (
                                        <p key={i} className="text-stone-700 mb-3 leading-relaxed">{p}</p>
                                    ))}

                                    {section.discussionPoint && (
                                        <div className="mb-4">
                                            <h3 className="text-amber-700 font-semibold text-sm uppercase mb-1">Context</h3>
                                            <p className="text-stone-700">{section.discussionPoint}</p>
                                        </div>
                                    )}

                                    {section.quote && (
                                        <blockquote className="border-l-4 border-stone-300 pl-4 py-1 my-4 text-stone-600 italic bg-stone-50 p-3 rounded-r-lg">
                                            {section.quote}
                                        </blockquote>
                                    )}

                                    {section.question && (
                                        <ToggleAnswer question={section.question} answer={section.answer} />
                                    )}

                                    {section.questions && section.questions.map((qItem, qIdx) => (
                                        <ToggleAnswer key={qIdx} question={qItem.q} answer={qItem.a} />
                                    ))}
                                </div>
                            ))}
                        </div>
                    </div>
                );
            };

            // Dynamic Footer based on view
            const renderFooter = () => (
                <footer className="p-6 text-center text-stone-400 text-xs">
                    <p>{WEEK_INFO.valediction}</p>
                </footer>
            );

            return (
                <div className="flex flex-col h-full bg-stone-100">
                    {/* Header */}
                    <header className="bg-white border-b border-stone-200 pt-6 pb-2 px-4 shadow-sm z-10">
                        <div className="max-w-4xl mx-auto text-center">
                            <h1 className="text-xs font-bold tracking-[0.2em] text-stone-400 uppercase mb-1">Come, Follow Me</h1>
                            <h2 className="text-lg sm:text-xl font-serif font-bold text-stone-800 leading-tight">{WEEK_INFO.title}</h2>
                            <p className="text-stone-500 text-xs mt-1 mb-4">{WEEK_INFO.dateRange}</p>

                            {/* Main Nav Tabs */}
                            <div className="flex justify-center space-x-1 sm:space-x-4 mt-4 overflow-x-auto hide-scrollbar pb-2">
                                <button onClick={() => setActiveTab('devotional')} className={`flex flex-col sm:flex-row items-center gap-2 px-4 py-2 rounded-xl transition-all ${activeTab === 'devotional' ? 'bg-amber-50 text-amber-700 ring-1 ring-amber-200' : 'text-stone-400 hover:text-stone-600'}`}>
                                    <IconSun className="w-5 h-5" />
                                    <span className="text-xs sm:text-sm font-medium">Daily</span>
                                </button>
                                <button onClick={() => setActiveTab('youth')} className={`flex flex-col sm:flex-row items-center gap-2 px-4 py-2 rounded-xl transition-all ${activeTab === 'youth' ? 'bg-amber-50 text-amber-700 ring-1 ring-amber-200' : 'text-stone-400 hover:text-stone-600'}`}>
                                    <IconUsers className="w-5 h-5" />
                                    <span className="text-xs sm:text-sm font-medium">Youth</span>
                                </button>
                                <button onClick={() => setActiveTab('songs')} className={`flex flex-col sm:flex-row items-center gap-2 px-4 py-2 rounded-xl transition-all ${activeTab === 'songs' ? 'bg-amber-50 text-amber-700 ring-1 ring-amber-200' : 'text-stone-400 hover:text-stone-600'}`}>
                                    <IconMusic className="w-5 h-5" />
                                    <span className="text-xs sm:text-sm font-medium">Music</span>
                                </button>
                                <button onClick={() => setActiveTab('study')} className={`flex flex-col sm:flex-row items-center gap-2 px-4 py-2 rounded-xl transition-all ${activeTab === 'study' ? 'bg-amber-50 text-amber-700 ring-1 ring-amber-200' : 'text-stone-400 hover:text-stone-600'}`}>
                                    <IconBookOpen className="w-5 h-5" />
                                    <span className="text-xs sm:text-sm font-medium">Study</span>
                                </button>
                            </div>
                        </div>
                    </header>

                    {/* Secondary Day Navigation (Horizontal Scroll) - Only show for Daily, Youth, Songs */}
                    {activeTab !== 'study' && (
                        <div className="bg-white border-b border-stone-200 py-2 px-4 shadow-sm z-10">
                            <div className="max-w-4xl mx-auto">
                                <div className="flex space-x-3 overflow-x-auto hide-scrollbar pb-1 sm:justify-center">
                                    {DEVOTIONAL_DATA.map((d) => (
                                        <button
                                            key={d.id}
                                            onClick={() => setActiveDayId(d.id)}
                                            className={`flex-shrink-0 flex flex-col items-center justify-center w-12 h-14 rounded-lg transition-all border ${activeDayId === d.id ? 'bg-stone-800 text-white border-stone-800 shadow-md transform scale-105' : 'bg-white text-stone-500 border-stone-200 hover:border-stone-300'}`}
                                        >
                                            <span className="text-[10px] font-bold uppercase">{d.day}</span>
                                            <span className={`text-lg font-bold leading-none ${activeDayId === d.id ? 'text-amber-400' : 'text-stone-800'}`}>{d.date.split(' ')[1]}</span>
                                        </button>
                                    ))}
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Content Area - Scrollable */}
                    <main className="flex-1 overflow-y-auto p-4 pb-20">
                        {activeTab === 'devotional' && renderDevotional()}
                        {activeTab === 'youth' && renderYouth()}
                        {activeTab === 'songs' && renderSongs()}
                        {activeTab === 'study' && renderStudy()}
                        {renderFooter()}
                    </main>

                    <Toast message="Copied to Clipboard!" show={showToast} onClose={() => setShowToast(false)} />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
