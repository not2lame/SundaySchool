<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Come, Follow Me Companion</title>
    
    <!-- Tailwind CSS (Styling) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts: Inter (Body) and Merriweather (Headings) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <!-- React & ReactDOM (Switched to Cloudflare CDN for better firewall access) -->
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    
    <!-- Babel (to compile JSX in browser) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>

    <!-- Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Merriweather', 'serif'],
                    },
                    colors: {
                        stone: { 50: '#fafaf9', 100: '#f5f5f4', 200: '#e7e5e4', 300: '#d6d3d1', 400: '#a8a29e', 500: '#78716c', 600: '#57534e', 700: '#44403c', 800: '#292524', 900: '#1c1917' },
                        amber: { 50: '#fffbeb', 100: '#fef3c7', 200: '#fde68a', 300: '#fcd34d', 400: '#fbbf24', 500: '#f59e0b', 600: '#d97706', 700: '#b45309', 800: '#92400e', 900: '#78350f' }
                    }
                }
            }
        }
    </script>

    <style>
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Print Styles */
        @media print {
            body * {
                visibility: hidden;
            }
            #printable-study-section, #printable-study-section * {
                visibility: visible;
            }
            #printable-study-section {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                margin: 0;
                padding: 0;
                border: none;
                box-shadow: none;
            }
            .no-print {
                display: none !important;
            }
        }
    </style>
</head>
<body class="bg-stone-100 text-stone-800 h-screen flex flex-col overflow-hidden">

    <!-- Loading Fallback -->
    <div id="root" class="h-full flex flex-col">
        <div class="flex items-center justify-center h-full bg-stone-100 text-stone-500 p-4 text-center">
            <div>
                <h2 class="text-xl font-bold mb-2">Loading App...</h2>
                <p class="text-sm">If this takes longer than a few seconds, your network may be blocking the script libraries (React).</p>
            </div>
        </div>
    </div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // ==========================================
        // DATA CONSTANTS
        // ==========================================

        const WEEK_INFO = {
            title: "We Believe: Articles of Faith and Official Declarations 1 and 2",
            dateRange: "December 8 - December 14, 2025",
            valediction: "This week, I invite you to select one Article of Faith that resonates with you or that you feel you need to work on. Memorize it (or re-memorize it) and look for an opportunity to share that specific belief with a friend or family member in a natural, conversation-friendly way."
        };

        const DEVOTIONAL_DATA = [
            { id: 'monday', day: 'Mon', fullDay: 'Monday', date: 'Dec 8', title: 'The Blueprint of Belief ðŸ—ï¸', text: 'The Articles of Faith arenâ€™t just a memorization checklist for Primary children; they are the architectural blueprint of our theology. It is significant that Joseph Smith started with the nature of the Godhead. Before we talk about prophets, scripture, or the restoration, we anchor ourselves in the reality that we worship a literal Father in Heaven and His Son, Jesus Christ. Knowing They are distinct individuals with a unified purpose changes how we approach prayer and worship. We don\'t just believe in a "force"; we believe in our heavenly family.', prompt: 'Reflection: How does understanding the distinct nature of the Father and the Son impact your personal prayers today?', scriptureRef: 'Articles of Faith 1:1', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/a-of-f/1?lang=eng#p1', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' },
            { id: 'tuesday', day: 'Tue', fullDay: 'Tuesday', date: 'Dec 9', title: 'The Virtuous Cycle ðŸ”„', text: 'We often view the "first principles"â€”faith, repentance, baptism, and the Holy Ghostâ€”as a linear checklist we completed years ago. However, Elder Peter M. Johnson teaches that living these principles creates a "virtuous cycle" of spiritual momentum. Repentance isn\'t just for big mistakes; it is the daily process of turning our hearts to God. When we treat these principles as a lifestyle rather than a one-time event, we gain power to overcome the "pull of this fallen world."', prompt: 'Challenge: Identify one small habit today that can add to your "spiritual momentum" (e.g., a prayer of gratitude, a moment of stillness).', scriptureRef: 'Articles of Faith 1:4', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/a-of-f/1?lang=eng#p4', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' },
            { id: 'wednesday', day: 'Wed', fullDay: 'Wednesday', date: 'Dec 10', title: 'He Isn\'t Done Speaking ðŸ—£ï¸', text: 'One of the most comforting truths of the Restoration is that we do not worship a silent God. As the supplemental article "Hidden Treasures" reminds us, we know "great and important things" todayâ€”like the salvation of little children and work for the deadâ€”that even Peter and Paul didn\'t fully record in writing. Article 9 is a promise that the windows of heaven are not sealed. God has revealed, is now revealing, and will yet reveal glorious truths to His Kingdom and to you personally.', prompt: 'Reflection: What is a personal "great and important thing" the Lord has revealed to you recently for your own life?', scriptureRef: 'Articles of Faith 1:9', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/a-of-f/1?lang=eng#p9', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' },
            { id: 'thursday', day: 'Thu', fullDay: 'Thursday', date: 'Dec 11', title: 'Bridges, Not Walls ðŸŒ‰', text: 'In a polarized world, the 11th Article of Faith is a radical declaration of respect. We claim the privilege of worshiping according to our conscience, but we also fiercely protect that right for all men and women, regardless of what or how they worship. True discipleship doesn\'t require us to agree with everyone, but it does require us to treat everyone with dignity. Our confidence in our own faith should make us less defensive and more willing to build bridges with those who believe differently.', prompt: 'Challenge: In your interactions today (online or in-person), look for a way to show respect for someoneâ€™s differing perspective.', scriptureRef: 'Articles of Faith 1:11', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/a-of-f/1?lang=eng#p11', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' },
            { id: 'friday', day: 'Fri', fullDay: 'Friday', date: 'Dec 12', title: 'The Admonition of Paul âœ¨', text: 'While the earlier Articles of Faith outline what we believe, Article 13 outlines how we behave. It is a call to be honest, true, chaste, benevolent, and virtuous. This isn\'t just about avoiding sin; it\'s about aggressively "seeking after" things that are lovely and of good report. If we want to bring the light of Christ into our workplaces and homes, we must be the people who champion the good, the beautiful, and the praiseworthy wherever we find it.', prompt: 'Reflection: What is one "virtuous" or "lovely" thing you have seen in the world this week that you can celebrate?', scriptureRef: 'Articles of Faith 1:13', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/a-of-f/1?lang=eng#p13', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' },
            { id: 'saturday', day: 'Sat', fullDay: 'Saturday', date: 'Dec 13', title: 'Ministering to the One ðŸ¤Ÿ', text: 'Article 13 says we believe in "doing good to all men," but sometimes that feels overwhelming. Elder Peter M. Johnson simplifies this by pointing to the Saviorâ€™s example with the Samaritan woman at the well. She felt unseen and judged by others, but Jesus saw her, loved her, and taught her without judgment. Ministering isn\'t a program; it\'s the act of seeing the individual. When we suspend judgment, we open the door for the Spirit to minister through us.', prompt: 'Challenge: Send a text to one person today who might be feeling "unseen" or discouraged, just to let them know you are thinking of them.', scriptureRef: 'John 4:13-14', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/nt/john/4?lang=eng#p13', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' },
            { id: 'sunday', day: 'Sun', fullDay: 'Sunday', date: 'Dec 14', title: 'A Dynamic Restoration ðŸŒ¿', text: 'The Official Declarations in our Doctrine and Covenants are powerful evidence that the Restoration is an ongoing process, not a static event. Whether it was the end of plural marriage or the extension of priesthood and temple blessings to all worthy members, these moments show a Church that moves forward under God\'s direction. We are part of a living, breathing workâ€”the literal "gathering of Israel" (Article 10). Change can be challenging, but it is also a sign of life and revelation.', prompt: 'Reflection: How does knowing the Church is guided by continuous revelation help you sustain your faith during times of change?', scriptureRef: 'Articles of Faith 1:10', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/a-of-f/1?lang=eng#p10', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' }
        ];

        const YM_DATA = [
             { id: 'monday', day: 'Mon', date: 'Dec 8', title: 'The Source Code âš¡', text: 'In any complex system, the foundation determines stability. The First Article of Faith is the "source code" for everything we believe. Before we talk about prophets, history, or rules, we establish who is in charge: God the Eternal Father, His Son Jesus Christ, and the Holy Ghost. Knowing they are three distinct individuals with a unified purpose isn\'t just theology; it clarifies that you aren\'t praying to a mysterious cloud or energy force. You are speaking to your Father, in the name of your Savior, with the power of the Spirit.', prompt: 'Challenge: Say your prayers tonight specifically visualizing who you are talking to and who makes that communication possible.', scriptureRef: 'Articles of Faith 1:1', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/a-of-f/1?lang=eng#p1', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' },
            { id: 'tuesday', day: 'Tue', date: 'Dec 9', title: 'Own Your Stats ðŸ“Š', text: 'The Second Article of Faith teaches a principle that is key to becoming a man: personal accountability. It states that "men will be punished for their own sins, and not for Adamâ€™s transgression". This means you are responsible for your own "stats" in life. You aren\'t held back by what people did thousands of years ago or even by the mistakes of your parents. You have the agency to choose your path, and you are accountable for how you play the game.', prompt: 'Challenge: Identify one responsibility youâ€™ve been avoiding (school, chores, spiritual habits) and "own it" today without being asked.', scriptureRef: 'Articles of Faith 1:2', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/a-of-f/1?lang=eng#p2', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' },
            { id: 'wednesday', day: 'Wed', date: 'Dec 10', title: 'Spiritual Momentum ðŸš€', text: 'We often look at the "first principles"â€”Faith, Repentance, Baptism, and the Gift of the Holy Ghostâ€”as a checklist we finished when we were eight years old. But Elder Peter M. Johnson teaches that living these standards creates a "powerful virtuous cycle" that builds "spiritual momentum". Repentance isn\'t just for when you crash; it\'s the daily course correction that keeps you moving forward. It lifts you above the "pull of this fallen world" and gives you power.', prompt: 'Reflection: Think of repentance as "re-aligning" rather than just "fixing." What is one small thing you can re-align today to gain more spiritual speed?', scriptureRef: 'Articles of Faith 1:4', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/a-of-f/1?lang=eng#p4', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' },
            { id: 'thursday', day: 'Thu', date: 'Dec 11', title: 'Authorized to Act ðŸ”‘', text: 'You can\'t just walk onto a professional sports field and start playing; you have to be on the roster and authorized to be there. The Fifth Article of Faith explains that a man must be "called of God... by those who are in authority" to preach and act in God\'s name. As an Aaronic Priesthood holder, you don\'t just have a title; you have legitimate authorization from God to act. That means when you prepare or pass the sacrament, you are doing something literally no one else on earth can do without that authority.', prompt: 'Challenge: Next time you exercise your priesthood duties, take a split second to remember: "I am authorized by God to do this."', scriptureRef: 'Articles of Faith 1:5', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/a-of-f/1?lang=eng#p5', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' },
            { id: 'friday', day: 'Fri', date: 'Dec 12', title: 'The Update Is Downloading ðŸ“²', text: 'Some people think religion is a static statue from the past, but we believe in a living network. Article of Faith 9 says we believe all God has revealed, but also that He "will yet reveal many great and important things". As the "Hidden Treasures" article points out, Heavenly Father "isn\'t done revealing things yet!". We know things today about the spirit world and salvation that even the ancient Apostles didn\'t have fully written down. Be readyâ€”the Lord is still speaking.', prompt: 'Reflection: If God is still revealing "great and important things," are you listening? How do you receive your own personal "updates" (revelation)?', scriptureRef: 'Articles of Faith 1:9', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/a-of-f/1?lang=eng#p9', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' },
            { id: 'saturday', day: 'Sat', date: 'Dec 13', title: 'Respect the Game ðŸ¤', text: 'In a world that loves to argue and cancel people, the 11th Article of Faith is a massive flex of confidence and maturity. It says we claim the privilege to worship how we want, but we "allow all men the same privilege" to worship how, where, or what they may. You can be 100% committed to the truth while still being 100% respectful of others. Real confidence in your faith means you don\'t have to be defensive or rude to those who disagree.', prompt: 'Challenge: If you hear someone mocking another belief or religion (online or at school), don\'t join in. Stand for respect.', scriptureRef: 'Articles of Faith 1:11', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/a-of-f/1?lang=eng#p11', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' },
            { id: 'sunday', day: 'Sun', date: 'Dec 14', title: 'The Warrior\'s Code ðŸ›¡ï¸', text: 'The 13th Article of Faith is basically the code of conduct for a disciple. It lists attributes like being "honest, true, chaste, benevolent," and "doing good to all men". Elder Peter M. Johnson connects this to "ministering to the one"â€”specifically helping those who feel "unimportant, alone, discouraged, and unseen". Being "virtuous" isn\'t just about staying clean; it\'s about having the strength to lift others up. It\'s about noticing the person everyone else ignores.', prompt: 'Challenge: Who is the "one" in your quorum or school who is often ignored? Make a plan to talk to them this week.', scriptureRef: 'Articles of Faith 1:13', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/a-of-f/1?lang=eng#p13', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' }
        ];

        const YW_DATA = [
            { id: 'monday', day: 'Mon', date: 'Dec 8', title: 'Your Divine Identity Card ðŸ†”', text: 'The world tries to put a lot of labels on you â€” student, athlete, artist, friend, or whatever your social media bio says. But the First Article of Faith establishes your true "Identity Card" before anything else. We believe in God, the Eternal Father. This means that before you are anything else, you are a daughter of God. This isn\'t just a nice saying; it is the most fundamental truth of the universe. When you know â€” really know â€” that you are His, it changes how you see yourself in the mirror. You are part of a divine family.', prompt: 'Reflection: Look in the mirror today and say, "I am a daughter of God, the Eternal Father." How does that change how you feel about your day?', scriptureRef: 'Articles of Faith 1:1', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/a-of-f/1?lang=eng#p1', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' },
            { id: 'tuesday', day: 'Tue', date: 'Dec 9', title: 'Your Story, Your Choice âœï¸', text: 'Sometimes it feels like we are carrying the weight of everyone else\'s expectations or mistakes. But the Second Article of Faith teaches a powerful truth about independence: we are accountable for our own sins, not for Adam\'s transgression. This means you are the author of your own spiritual story. You aren\'t defined by what your friends do, what your parents did, or what happened in the past. You have the agency to choose your path and the power to own your future.', prompt: 'Challenge: Is there a choice you\'ve been blaming on someone else or a situation? Take full ownership of one decision today.', scriptureRef: 'Articles of Faith 1:2', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/a-of-f/1?lang=eng#p2', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' },
            { id: 'wednesday', day: 'Wed', date: 'Dec 10', title: 'The Virtuous Cycle ðŸ’«', text: 'We often hear about "vicious cycles," but Elder Peter M. Johnson teaches about a "virtuous cycle" that creates "spiritual momentum" in our lives. When we live the first principles of the gospelâ€”faith, repentance, and covenants â€” it actually lifts us above the "pull of this fallen world". Itâ€™s like having a spiritual tailwind pushing you forward. Living the gospel isn\'t meant to be a heavy backpack of rules; it\'s meant to be the wings that help you fly above the stress and confusion.', prompt: 'Reflection: What is one "heavy" thing you are carrying that the Savior can help lift through your faith and repentance?', scriptureRef: 'Articles of Faith 1:4', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/a-of-f/1?lang=eng#p4', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' },
            { id: 'thursday', day: 'Thu', date: 'Dec 11', title: 'Hidden Treasures ðŸ’Ž', text: 'Have you ever felt like you\'re missing out on something? The supplemental article "Hidden Treasures" reminds us that we are actually living in the best time for truth! We know "comforting truths" that even people in the Bible didn\'t fully have written down, like how families can be together forever and how the gospel is preached to those who have passed on. Article of Faith 9 promises that God "will yet reveal many great and important things". Heavenly Father isn\'t done sharing His treasures with you.', prompt: 'Reflection: If you could ask Heavenly Father one question to receive more "light and knowledge" about, what would it be?', scriptureRef: 'Articles of Faith 1:9', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/a-of-f/1?lang=eng#p9', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' },
            { id: 'friday', day: 'Fri', date: 'Dec 12', title: 'Room for Everyone ðŸŒ', text: 'High school and social media can be places where people are judged instantly for what they believe. The 11th Article of Faith is the ultimate "cool girl" move: it claims the privilege of worshiping God according to our conscience, but allows all people the same privilege. You can be totally confident in your testimony of Jesus Christ while still being kind, inclusive, and respectful to friends who believe differently. True faith doesn\'t need to be defensive; it just needs to be true.', prompt: 'Challenge: Today, be a safe place for someone. Listen to a friend without judging or interrupting, just allowing them to be heard.', scriptureRef: 'Articles of Faith 1:11', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/a-of-f/1?lang=eng#p11', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' },
            { id: 'saturday', day: 'Sat', date: 'Dec 13', title: 'Seek the Lovely ðŸŒ¸', text: 'Your social media feed, your playlist, and your shows are all things you "seek after." Article of Faith 13 says we believe in being honest, true, chaste, benevolent, and virtuous, and that we "seek after" things that are "virtuous, lovely, or of good report". Itâ€™s a challenge to curate your life. Are the things you are watching and listening to adding to your "virtuous" vibe, or are they draining your light? You have the power to choose the lovely.', prompt: 'Reflection: Look at your "Recently Played" or "Watch History." Is there something there that doesn\'t fit the description of "virtuous" or "lovely"?', scriptureRef: 'Articles of Faith 1:13', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/pgp/a-of-f/1?lang=eng#p13', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' },
            { id: 'sunday', day: 'Sun', date: 'Dec 14', title: 'Seeing the Invisible ðŸ‘ï¸', text: 'Elder Peter M. Johnson reminds us that there are people around us who feel "unimportant, alone, discouraged, and unseen". He talks about the Samaritan woman at the well who might have felt judged or like she didn\'t belong, yet she was one of the first people Jesus told He was the Messiah. When we "minister to the one," we stop judging and start loving. You have a superpower: you can make the "invisible" people feel seen just by saying hello.', prompt: 'Challenge: Find someone at church or school who looks like they feel "unseen" and simply smile and say hi to them.', scriptureRef: 'John 4:25-26', scriptureLink: 'https://www.churchofjesuschrist.org/study/scriptures/nt/john/4?lang=eng#p25', lessonLink: 'https://www.churchofjesuschrist.org/study/manual/come-follow-me-for-home-and-church-doctrine-and-covenants-2025/50-articles-of-faith-and-official-declarations-1-2?lang=eng' }
        ];

        const SONGS_DATA = [
            { id: 'monday', day: 'Mon', title: 'The Blueprint of Belief ðŸ—ï¸', devotionalText: 'The Articles of Faith arenâ€™t just a memorization checklist for Primary children; they are the architectural blueprint of our theology. It is significant that Joseph Smith started with the nature of the Godhead. Before we talk about prophets, scripture, or the restoration, we anchor ourselves in the reality that we worship a literal Father in Heaven and His Son, Jesus Christ. Knowing They are distinct individuals with a unified purpose changes how we approach prayer and worship. We don\'t just believe in a "force"; we believe in our heavenly family. Reflection: How does understanding the distinct nature of the Father and the Son impact your personal prayers today? Scripture Link: Articles of Faith 1:1', 
                hymnTitle: 'Joseph Smith\'s First Prayer', hymnLink: 'https://www.youtube.com/watch?v=61ZijuH1kps', hymnAnalysis: 'The devotional highlights that Joseph Smith "started with the nature of the Godhead" and anchored us in the reality of a "literal Father in Heaven and His Son, Jesus Christ." This hymn chronicles the very moment that theological blueprint was revealed. The lyrics describe Joseph seeing "two glorious personages" who "exactly resembled each other in features and likeness," confirming their distinct nature. Listening to this hymn grounds the theological concept of the Godhead in the historical reality of the Sacred Grove, reminding us that our belief in a personal God began with a young boy\'s prayer.', 
                songTitle: 'A Child\'s Prayer', songArtist: 'The Tabernacle Choir', songLink: 'https://www.youtube.com/watch?v=7gyyEKRKVTI', songAnalysis: 'While the hymn establishes the nature of God, this song connects us to the relationship we have with Him. The devotional emphasizes that "we don\'t just believe in a \'force\'; we believe in our heavenly family." "A Child\'s Prayer" poses the intimate question, "Heavenly Father, are you really there?" and answers with the assurance of a personal connection. It perfectly supports the reflection question by inviting us to approach prayer not as a ritual, but as a conversation with a literal Father who hears and answers.' },
            { id: 'tuesday', day: 'Tue', title: 'The Virtuous Cycle ðŸ”„', devotionalText: 'We often view the "first principles"â€”faith, repentance, baptism, and the Holy Ghostâ€”as a linear checklist we completed years ago. However, Elder Peter M. Johnson teaches that living these principles creates a "virtuous cycle" of spiritual momentum. Repentance isn\'t just for big mistakes; it is the daily process of turning our hearts to God. When we treat these principles as a lifestyle rather than a one-time event, we gain power to overcome the "pull of this fallen world." Challenge: Identify one small habit today that can add to your "spiritual momentum" (e.g., a prayer of gratitude, a moment of stillness). Scripture Link: Articles of Faith 1:4', 
                hymnTitle: 'More Holiness Give Me', hymnLink: 'https://www.youtube.com/watch?v=sLxv4v9OB3A', hymnAnalysis: 'This hymn perfectly encapsulates the "virtuous cycle" described in the devotional. Instead of a one-time event, the lyrics plead for a continuous increase in spiritual attributesâ€”"More faith in my Savior... More sorrow for sin... More purity give me." It frames repentance and faith as a "daily process of turning our hearts to God", aligning with the devotional\'s call to treat these principles as a lifestyle of seeking more of the Savior\'s influence.', 
                songTitle: 'Another Second Chance', songArtist: 'Hilary Weeks', songLink: 'https://www.youtube.com/watch?v=H9sR5ZdFGqM', songAnalysis: 'The devotional defines repentance as a "daily process of turning our hearts to God" to maintain spiritual momentum. Hilary Weeks\' "Clean" captures the relief and peace of this process. The lyrics describe the weight of imperfection and the liberating feeling of the Savior washing those mistakes away. It reinforces the idea that we can constantly return to the Lord to renew our momentum, rather than being stuck in the "pull of this fallen world" or weighed down by past errors.' },
            { id: 'wednesday', day: 'Wed', title: 'He Isn\'t Done Speaking ðŸ—£ï¸', devotionalText: 'One of the most comforting truths of the Restoration is that we do not worship a silent God. As the supplemental article "Hidden Treasures" reminds us, we know "great and important things" todayâ€”like the salvation of little children and work for the deadâ€”that even Peter and Paul didn\'t fully record in writing. Article 9 is a promise that the windows of heaven are not sealed. God has revealed, is now revealing, and will yet reveal glorious truths to His Kingdom and to you personally. Reflection: What is a personal "great and important thing" the Lord has revealed to you recently for your own life? Scripture Link: Articles of Faith 1:9', 
                hymnTitle: 'Come, Listen to a Prophet\'s Voice', hymnLink: 'https://www.youtube.com/watch?v=4XUlMYVwpFk', hymnAnalysis: 'The core theme of Day 3 is that "we do not worship a silent God." This hymn is a direct invitation to hear the word of the Lord through His servants. The lyrics "He speaks to us in latter days" and "The path that leads to heaven\'s light" celebrate the ongoing nature of revelation. It reinforces the Article 9 promise that God "is now revealing" truths, reminding us that the canon is open and guidance is available for our day.', 
                songTitle: 'Ask of God', songArtist: 'Strive to Be (feat. James Han)', songLink: 'https://www.youtube.com/watch?v=LhKlMGuxJ38', songAnalysis: 'While the previous hymn focuses on revelation to the Church, this song focuses on revelation "to you personally," as emphasized in the devotional. Based on the 2017 Youth Theme scripture (James 1:5), the lyrics encourage us to "ask of God" with the promise that He will answer. It directly supports the reflection question by inviting the listener to seek their own "great and important things" through personal prayer, affirming that God is not silent when we reach out to Him.' },
            { id: 'thursday', day: 'Thu', title: 'Bridges, Not Walls ðŸŒ‰', devotionalText: 'In a polarized world, the 11th Article of Faith is a radical declaration of respect. We claim the privilege of worshiping according to our conscience, but we also fiercely protect that right for all men and women, regardless of what or how they worship. True discipleship doesn\'t require us to agree with everyone, but it does require us to treat everyone with dignity. Our confidence in our own faith should make us less defensive and more willing to build bridges with those who believe differently. Challenge: In your interactions today (online or in-person), look for a way to show respect for someoneâ€™s differing perspective. Scripture Link: Articles of Faith 1:11', 
                hymnTitle: 'Lord, I Would Follow Thee', hymnLink: 'https://www.youtube.com/watch?v=XivyFAqXv3Q', hymnAnalysis: 'The 11th Article of Faith calls for a "radical declaration of respect" and treating everyone with dignity. This hymn is the musical embodiment of that sentiment. The lyrics "Who am I to judge another, when I walk imperfectly?" and "I would be my brother\'s keeper... guard his reputation well" directly address the need to build bridges rather than walls. It humbles the singer, fostering the non-defensive confidence mentioned in the devotional that allows us to extend love to those who believe differently.', 
                songTitle: 'If We Love Him', songArtist: 'Strive to Be (feat. Lauryn Judd)', songLink: 'https://www.youtube.com/watch?v=HZIPqwf5NkA', songAnalysis: 'The devotional challenges us to show respect and build bridges in our interactions. This song beautifully answers that call with the lyrics, "We\'ll go and serve our neighbor with an open heart." It reinforces the devotional\'s message that true discipleship involves loving others as the Savior does, regardless of differences. Listening to this song encourages us to move beyond defensiveness and extend the "open heart" required to connect with those who believe differently, just as the day\'s challenge invites us to do.' },
            { id: 'friday', day: 'Fri', title: 'The Admonition of Paul âœ¨', devotionalText: 'While the earlier Articles of Faith outline what we believe, Article 13 outlines how we behave. It is a call to be honest, true, chaste, benevolent, and virtuous. This isn\'t just about avoiding sin; it\'s about aggressively "seeking after" things that are lovely and of good report. If we want to bring the light of Christ into our workplaces and homes, we must be the people who champion the good, the beautiful, and the praiseworthy wherever we find it. Reflection: What is one "virtuous" or "lovely" thing you have seen in the world this week that you can celebrate? Scripture Link: Articles of Faith 1:13', 
                hymnTitle: 'Let Us All Press On', hymnLink: 'https://www.youtube.com/watch?v=bUh09LiMH88', hymnAnalysis: 'The devotional emphasizes that Article 13 isn\'t passive; it\'s about "aggressively \'seeking after\'" the good. "Let Us All Press On" captures this active spirit with its marching tempo and lyrics like "Let us all press on in the work of the Lord" and "Fear not to do right." It is a call to be the people who "champion the good", encouraging us to be bold in our behavior and to stand for what is true and virtuous in our workplaces and homes.', 
                songTitle: 'Good Day', songArtist: 'Strive to Be', songLink: 'https://www.youtube.com/watch?v=8VJ0QjzyXhU', songAnalysis: 'The reflection asks us to identify something "virtuous" or "lovely" we have seen in the world to celebrate. "Good Day" is an anthem of celebration, focusing on the positive and the beautiful in life. Its positive, energetic vibe helps us shift our focus from the negative to the "praiseworthy," embodying the spirit of Article 13 by actively acknowledging and rejoicing in the good things we find around us. It encourages the listener to see God\'s hand in their daily life and champion the good.' },
            { id: 'saturday', day: 'Sat', title: 'Ministering to the One ðŸ¤Ÿ', devotionalText: 'Article 13 says we believe in "doing good to all men," but sometimes that feels overwhelming. Elder Peter M. Johnson simplifies this by pointing to the Saviorâ€™s example with the Samaritan woman at the well. She felt unseen and judged by others, but Jesus saw her, loved her, and taught her without judgment. Ministering isn\'t a program; it\'s the act of seeing the individual. When we suspend judgment, we open the door for the Spirit to minister through us. Challenge: Send a text to one person today who might be feeling "unseen" or discouraged, just to let them know you are thinking of them. Scripture Link: John 4:13-14', 
                hymnTitle: 'Have I Done Any Good?', hymnLink: 'https://www.youtube.com/watch?v=vT-5zSlASjg', hymnAnalysis: 'This hymn connects the general command of "doing good to all men" to personal motivation and action. The lyrics "Have I cheered up the sad and made someone feel glad?" directly address the "unseen" or discouraged mentioned in the challenge. It reinforces the devotional\'s message that ministering is about the individual ("someone in need") and prompts us to act not out of duty, but out of a desire to share burdens, perfectly aligning with the call to see and love others as the Savior did.', 
                songTitle: 'One by One', songArtist: 'Paul Cardall (feat. Elder David A. Bednar)', songLink: 'https://www.youtube.com/watch?v=3cgru8pcMpM', songAnalysis: 'The devotional states, "Ministering isn\'t a program; it\'s the act of seeing the individual." "One by One," with lyrics written by Elder David A. Bednar, teaches that the Savior\'s ministry was always focused on the one. It recounts scriptural examples, including the woman at the well mentioned in the text, emphasizing that Jesus knows and loves us individually. Listening to this song inspires us to follow that pattern, helping us fulfill the challenge to reach out to just one person who needs to be seen.' },
            { id: 'sunday', day: 'Sun', title: 'A Dynamic Restoration ðŸŒ¿', devotionalText: 'The Official Declarations in our Doctrine and Covenants are powerful evidence that the Restoration is an ongoing process, not a static event. Whether it was the end of plural marriage or the extension of priesthood and temple blessings to all worthy members, these moments show a Church that moves forward under God\'s direction. We are part of a living, breathing workâ€”the literal "gathering of Israel" (Article 10). Change can be challenging, but it is also a sign of life and revelation. Reflection: How does knowing the Church is guided by continuous revelation help you sustain your faith during times of change? Scripture Link: Articles of Faith 1:10', 
                hymnTitle: 'Israel, Israel, God Is Calling', hymnLink: 'https://www.youtube.com/watch?v=fyju2aFehFI', hymnAnalysis: 'The devotional identifies the "literal \'gathering of Israel\'" as a central part of the living work we are engaged in. This hymn is the classic anthem of that gathering. The call to "Come to Zion, come to me" speaks to the movement and progression inherent in the Restoration. It reminds us that God is actively calling and directing His people, providing the assurance needed to sustain faith during times of change by focusing on the ultimate goal of the gathering.', 
                songTitle: 'A Great Work', songArtist: 'Strive to Be', songLink: 'https://www.youtube.com/watch?v=BMU6C-iN-rA', songAnalysis: 'The text describes the Restoration as a "living, breathing work" that moves forward. "A Great Work" captures the excitement and responsibility of being part of this dynamic process. The lyrics "This is a great work... and he wants you by his side" invite us to see ourselves as active participants in the unfolding history of the Church. It frames change and forward motion not as challenges to be feared, but as a divine invitation to trust God\'s direction and engage in His cause.' }
        ];

        const STUDY_GUIDE_DATA = [
            {
                title: "Background",
                content: [
                    "The Articles of Faith were originally written by Joseph Smith in a letter to newspaper editor John Wentworth in 1842. They were intended to explain the basic beliefs of the Church to those who were unfamiliar with it. Today, they remain a clear, concise declaration of our doctrine. This weekâ€™s lesson also touches on Official Declarations 1 and 2, which demonstrate how the Church is dynamic and guided by continuing revelation. In some cases, that revelation has included changes to the policies and practices of the Church."
                ]
            },
            {
                title: "Articles of Faith 1â€“4: The Foundation of our Faith",
                content: [
                    "Articles: \"We believe in God, the Eternal Father, and in His Son, Jesus Christ, and in the Holy Ghost... We believe that the first principles and ordinances of the Gospel are: first, Faith in the Lord Jesus Christ; second, Repentance; third, Baptism by immersion for the remission of sins; fourth, Laying on of hands for the gift of the Holy Ghost.\""
                ],
                discussionPoint: "The first four Articles of Faith establish our identity as Christians. They clarify the nature of the Godhead as three distinct personages and emphasize that salvation comes through the Atonement of Jesus Christ, not just through our own works. These articles correct common misconceptions by placing Jesus Christ and His grace at the very center of our theology.",
                question: "For those who are learning about the Church or for those of us who have been members a long time, why is it significant that the very first Article of Faith focuses on the nature of God and Jesus Christ?",
                answer: "[It immediately establishes that we are Christians who worship the Father and the Son.\nIt clarifies that we believe they are distinct individuals, which helps us understand our relationship to them.\nIt sets the foundation for everything elseâ€”before we discuss prophets or scripture, we must agree on the source of that authority.]"
            },
            {
                title: "Article of Faith 9: Revelation Past, Present, and Future",
                content: [
                    "Article: \"We believe all that God has revealed, all that He does now reveal, and we believe that He will yet reveal many great and important things pertaining to the Kingdom of God.\""
                ],
                discussionPoint: "This Article of Faith is unique to the restored gospel. While many religions reverence what God has revealed (the Bible), we believe God is still speaking. The supplemental article \"Hidden Treasures\" points out that many comforting truthsâ€”such as the salvation of little children and the preaching of the gospel to the deadâ€”were not fully known until modern revelation brought them to light.",
                question: "The supplemental article, \"Hidden Treasures\" reminds us that \"Heavenly Father isn't done revealing things yet!\". How does the promise that God will \"yet reveal many great and important things\" impact how we view the future?",
                answer: "[It gives us hope that we can receive answers to current social and personal problems.\nIt keeps us humble, realizing that we don't know everything yet and our understanding can still be expanded.\nIt suggests that the Church is a living, growing organism, not a static monument.]"
            },
            {
                title: "Official Declarations 1 & 2: The Process of Change",
                content: [
                    "Paragraphs 353â€“355: \"Official Declarations 1 and 2 announced this kind of revelation... Changes like these are part of what it means to have a 'true and living church'... eternal truth doesn't change, though our understanding of it does.\""
                ],
                discussionPoint: "Sometimes, revelation leads to significant changes in practice. Official Declaration 1 led to the end of plural marriage, and Official Declaration 2 extended priesthood and temple blessings to all worthy members regardless of race. These moments in history illustrate that the Church is not just an earthly institution, but is led by God who guides His people \"suiting his mercies according to the conditions of the children of men\". We acknowledge that there are things in history we may not fully understand, but we trust in the Lord's ability to guide His Church.",
                question: "How does the concept of a \"living church\" help us navigate times when policies change or when we encounter historical questions we struggle to understand?",
                answer: "[It reminds us that we follow a living God, not just a set of written rules.\nIt encourages patience, trusting that \"light and knowledge\" are revealed line upon line.\nIt allows us to focus on the core doctrine of Christ while acknowledging that administrative practices may adapt.]"
            },
            {
                title: "Article of Faith 13: Christian Living and Ministering",
                content: [
                    "Article: \"We believe in being honest, true, chaste, benevolent, virtuous, and in doing good to all men...\""
                ],
                discussionPoint: "While the earlier articles discuss doctrine, the 13th Article of Faith discusses behavior. It is a call to live a life of high moral character and benevolence. In the talk \"The Power of Ministering to the One,\" Elder Peter M. Johnson teaches that living these Christian attributesâ€”specifically compassion, kindness, and patienceâ€”is how we \"minister to the one\". He explains that living the doctrine of Christ motivates us to help others.",
                question: "Article 13 says we believe in \"doing good to all men.\" Elder Johnson suggests that we should minister \"with love and without judgment\". How does suspending judgment help us better fulfill the charge to be \"benevolent\" and \"virtuous\"?",
                answer: "[Judgment creates barriers; love creates bridges. When we stop judging, we can actually see the person's needs.\nThe Samaritan woman mentioned by Elder Johnson felt \"unseen\" and \"judged,\" but Christ made her feel valued. We can do the same.\nBeing \"virtuous\" isn't just about personal purity; it's about how we treat others. You cannot be fully benevolent if you are harsh in your judgment.]"
            },
            {
                title: "Article of Faith 11: Religious Liberty",
                content: [
                    "Article: \"We claim the privilege of worshiping Almighty God according to the dictates of our own conscience, and allow all men the same privilege, let them worship how, where, or what they may.\""
                ],
                discussionPoint: "In a diverse world, this article is a powerful statement of tolerance and respect. It establishes that while we are firm in our own convictions, we fiercely defend the rights of others to believe differently. This creates a safe space for dialogue with friends of other faiths.",
                question: "How can we better live the principle of \"allowing all men the same privilege\" of worship in our daily interactions with friends, coworkers, or family members who do not share our beliefs?",
                answer: "[By listening to understand their beliefs rather than just listening to refute them.\nBy standing up for others when their religious freedom is mocked or threatened.\nBy avoiding contention and ensuring our invitations to learn about Christ are always respectful, never coercive.]"
            }
        ];

        // ==========================================
        // ICONS (Inline SVG Components)
        // ==========================================
        const IconSun = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>;
        const IconUsers = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>;
        const IconMusic = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>;
        const IconBookOpen = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>;
        const IconShare = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" x2="15.42" y1="13.51" y2="17.49"/><line x1="15.41" x2="8.59" y1="6.51" y2="10.49"/></svg>;
        const IconChevronDown = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m6 9 6 6 6-6"/></svg>;
        const IconChevronRight = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m9 18 6-6-6-6"/></svg>;
        const IconLink = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>;
        const IconPlayCircle = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><polygon points="10 8 16 12 10 16 10 8"/></svg>;
        const IconPrinter = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect></svg>;


        // ==========================================
        // COMPONENTS
        // ==========================================

        // 1. Toast Notification Component
        const Toast = ({ message, show, onClose }) => {
            useEffect(() => {
                if (show) {
                    const timer = setTimeout(onClose, 3000);
                    return () => clearTimeout(timer);
                }
            }, [show, onClose]);

            if (!show) return null;

            return (
                <div className="fixed bottom-24 left-1/2 transform -translate-x-1/2 bg-stone-800 text-white px-6 py-3 rounded-full shadow-lg z-50 flex items-center gap-2 animate-bounce toast-notification">
                    <span className="text-green-400">&#10003;</span>
                    {message}
                </div>
            );
        };

        // 2. Interactive Toggle Answer Component
        const ToggleAnswer = ({ question, answer }) => {
            const [isOpen, setIsOpen] = useState(false);

            return (
                <div className="mb-6 border-l-4 border-amber-200 pl-4">
                    <button 
                        onClick={() => setIsOpen(!isOpen)}
                        className="text-left font-bold text-amber-900 w-full hover:text-amber-700 transition-colors flex items-start gap-2"
                    >
                        <span className="mt-1">{isOpen ? <IconChevronDown className="w-5 h-5" /> : <IconChevronRight className="w-5 h-5" />}</span>
                        <span>{question}</span>
                    </button>
                    
                    {isOpen && (
                        <div className="mt-3 p-4 bg-stone-100 rounded-lg text-stone-700 italic border border-stone-200 fade-in">
                            <span className="font-bold not-italic text-stone-500 text-xs uppercase tracking-wider block mb-1">Possible Answer</span>
                            {answer}
                        </div>
                    )}
                </div>
            );
        };

        // 3. Main App Component
        const App = () => {
            const [activeTab, setActiveTab] = useState('devotional');
            const [activeDayId, setActiveDayId] = useState('');
            const [showToast, setShowToast] = useState(false);
            const [youthGroup, setYouthGroup] = useState('ym'); // 'ym' or 'yw'

            // Initialize Day based on current date
            useEffect(() => {
                const dayMap = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];
                const todayIndex = new Date().getDay();
                setActiveDayId(dayMap[todayIndex]);
            }, []);

            const getActiveData = (dataArray) => {
                return dataArray.find(d => d.id === activeDayId) || dataArray[0];
            };

            const copyToClipboard = (dayData) => {
                const promptParts = dayData.prompt.split(':');
                const promptLabel = promptParts[0];
                const promptText = promptParts.slice(1).join(':').trim();
                const scriptureText = (dayData.scriptureRef && dayData.scriptureLink)
                    ? `Scripture: ${dayData.scriptureRef}\n${dayData.scriptureLink}\n\n`
                    : ""; 

                // Use dayData.date if available, otherwise fallback to empty string or generic
                const dateStr = dayData.date ? dayData.date : "";

                const textToCopy = `âœ¨ Daily Devotional âœ¨\n\n${dateStr}\n*${dayData.title}*\n\n${dayData.text}\n\n*${promptLabel}:* ${promptText}\n\n${scriptureText}Full Lesson:\n${dayData.lessonLink}`;

                // Modern clipboard API
                if (navigator.clipboard && navigator.clipboard.writeText) {
                     navigator.clipboard.writeText(textToCopy).then(() => {
                        setShowToast(true);
                    }).catch(err => {
                        fallbackCopy(textToCopy);
                    });
                } else {
                    fallbackCopy(textToCopy);
                }
            };

            const fallbackCopy = (text) => {
                 try {
                    const textArea = document.createElement("textarea");
                    textArea.value = text;
                    
                    // Avoid scrolling to bottom
                    textArea.style.top = "0";
                    textArea.style.left = "0";
                    textArea.style.position = "fixed";
        
                    document.body.appendChild(textArea);
                    textArea.focus();
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    setShowToast(true);
                 } catch (err) {
                     console.error("Fallback copy failed", err);
                 }
            };

            const renderDevotional = () => {
                const data = getActiveData(DEVOTIONAL_DATA);
                return (
                    <div className="space-y-6 fade-in max-w-2xl mx-auto">
                        <div className="bg-white p-6 rounded-2xl shadow-sm border border-stone-200">
                            <span className="text-amber-600 text-sm font-bold uppercase tracking-widest">{data.date}</span>
                            <h2 className="text-3xl font-serif font-bold text-stone-800 mt-2 mb-4">{data.title}</h2>
                            <p className="text-stone-600 leading-relaxed text-lg">{data.text}</p>
                            
                            <div className="mt-8 p-5 bg-amber-50 rounded-xl border border-amber-100">
                                <h3 className="font-bold text-amber-900 mb-2 flex items-center gap-2">
                                    <span className="w-2 h-2 bg-amber-500 rounded-full"></span>
                                    {data.prompt.split(':')[0]}
                                </h3>
                                <p className="text-stone-700 italic">{data.prompt.split(':').slice(1).join(':')}</p>
                            </div>

                            <div className="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3">
                                {data.scriptureLink && (
                                    <a href={data.scriptureLink} target="_blank" className="flex items-center justify-center gap-2 bg-amber-600 text-white py-3 rounded-lg font-medium hover:bg-amber-700 transition">
                                        <IconBookOpen className="w-4 h-4" /> Read Scripture: {data.scriptureRef}
                                    </a>
                                )}
                                <a href={data.lessonLink} target="_blank" className="flex items-center justify-center gap-2 bg-stone-200 text-stone-700 py-3 rounded-lg font-medium hover:bg-stone-300 transition">
                                    <IconLink className="w-4 h-4" /> Full Lesson
                                </a>
                            </div>

                            <button 
                                onClick={() => copyToClipboard(data)}
                                className="w-full mt-4 py-4 border-t border-stone-100 text-stone-500 hover:text-amber-600 font-medium flex items-center justify-center gap-2 transition-colors"
                            >
                                <IconShare className="w-4 h-4" /> Share Devotional
                            </button>
                        </div>
                    </div>
                );
            };

            const renderYouth = () => {
                const data = getActiveData(youthGroup === 'ym' ? YM_DATA : YW_DATA);
                return (
                    <div className="fade-in max-w-3xl mx-auto">
                        {/* Toggle Switch for YM/YW */}
                        <div className="flex justify-center mb-6 bg-stone-200 p-1 rounded-xl inline-flex w-full sm:w-auto mx-auto">
                            <button 
                                onClick={() => setYouthGroup('ym')}
                                className={`flex-1 sm:flex-none px-8 py-2 rounded-lg font-bold transition-all ${youthGroup === 'ym' ? 'bg-white shadow-sm text-amber-700' : 'text-stone-500 hover:text-stone-700'}`}
                            >
                                Young Men
                            </button>
                            <button 
                                onClick={() => setYouthGroup('yw')}
                                className={`flex-1 sm:flex-none px-8 py-2 rounded-lg font-bold transition-all ${youthGroup === 'yw' ? 'bg-white shadow-sm text-amber-700' : 'text-stone-500 hover:text-stone-700'}`}
                            >
                                Young Women
                            </button>
                        </div>

                        <div className="bg-white p-6 rounded-2xl shadow-sm border border-stone-200 relative overflow-hidden">
                            {/* Decorative Top Border */}
                            <div className={`absolute top-0 left-0 w-full h-2 ${youthGroup === 'ym' ? 'bg-blue-600' : 'bg-pink-500'}`}></div>

                            <h2 className="text-2xl font-serif font-bold text-stone-800 mt-4 mb-4">{data.title}</h2>
                            <p className="text-stone-600 leading-relaxed">{data.text}</p>
                            
                            <div className="mt-6 p-5 bg-stone-50 rounded-xl border border-stone-100">
                                <h3 className="font-bold text-stone-800 mb-2">{data.prompt.split(':')[0]}</h3>
                                <p className="text-stone-600">{data.prompt.split(':').slice(1).join(':')}</p>
                            </div>
                             <div className="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3">
                                {data.scriptureLink && (
                                    <a href={data.scriptureLink} target="_blank" className={`flex items-center justify-center gap-2 text-white py-3 rounded-lg font-medium transition ${youthGroup === 'ym' ? 'bg-blue-600 hover:bg-blue-700' : 'bg-pink-500 hover:bg-pink-600'}`}>
                                        <IconBookOpen className="w-4 h-4" /> Read Scripture: {data.scriptureRef}
                                    </a>
                                )}
                                <a href={data.lessonLink} target="_blank" className="flex items-center justify-center gap-2 bg-stone-200 text-stone-700 py-3 rounded-lg font-medium hover:bg-stone-300 transition">
                                    <IconLink className="w-4 h-4" /> Full Lesson
                                </a>
                            </div>
                             <button 
                                onClick={() => copyToClipboard(data)}
                                className="w-full mt-4 py-4 border-t border-stone-100 text-stone-500 hover:text-stone-800 font-medium flex items-center justify-center gap-2 transition-colors"
                            >
                                <IconShare className="w-4 h-4" /> Share Content
                            </button>
                        </div>
                    </div>
                );
            };

            const renderSongs = () => {
                const data = getActiveData(SONGS_DATA);
                return (
                    <div className="fade-in max-w-3xl mx-auto">
                         <div className="text-center bg-white p-6 rounded-2xl shadow-sm border border-stone-200 mb-6">
                            <div className="w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <IconMusic className="w-6 h-6 text-amber-700" />
                            </div>
                            <h2 className="text-2xl font-serif font-bold text-stone-800">Songs of the Soul</h2>
                            <p className="mt-2 text-stone-500 text-sm">Music to invite the Spirit into your daily study.</p>
                        </div>

                        <div className="bg-white p-6 rounded-2xl shadow-sm border border-stone-200">
                            <h3 className="text-lg font-bold text-stone-400 uppercase tracking-wider mb-4">Daily Selection</h3>
                            <h2 className="text-xl font-bold text-stone-800 mb-2">{data.title}</h2>
                            <p className="text-stone-600 italic mb-8 text-sm border-l-2 border-amber-300 pl-4">{data.devotionalText}</p>
                            
                            <div className="space-y-8">
                                {/* Hymn Section */}
                                <div>
                                    <span className="text-xs font-bold text-amber-600 tracking-widest uppercase mb-2 block flex items-center gap-2">
                                        <IconMusic className="w-3 h-3" /> Hymn Selection
                                    </span>
                                    <div className="flex items-start justify-between gap-4">
                                        <h3 className="text-xl font-serif font-bold text-stone-800">{data.hymnTitle}</h3>
                                        <a href={data.hymnLink} target="_blank" rel="noopener noreferrer" className="text-amber-600 hover:text-amber-700 transition-colors" aria-label="Play Song">
                                            <IconPlayCircle className="w-8 h-8" />
                                        </a>
                                    </div>
                                    <p className="mt-2 text-stone-600 text-sm leading-relaxed">{data.hymnAnalysis}</p>
                                </div>

                                <hr className="border-stone-100" />

                                {/* Song Section */}
                                <div>
                                    <span className="text-xs font-bold text-sky-600 tracking-widest uppercase mb-2 block flex items-center gap-2">
                                        <IconMusic className="w-3 h-3" /> Contemporary Song
                                    </span>
                                    <div className="flex items-start justify-between gap-4">
                                        <div>
                                            <h3 className="text-xl font-serif font-bold text-stone-800">{data.songTitle}</h3>
                                            <p className="text-xs text-stone-400 mb-2">by {data.songArtist}</p>
                                        </div>
                                        <a href={data.songLink} target="_blank" rel="noopener noreferrer" className="text-sky-600 hover:text-sky-700 transition-colors" aria-label="Play Song">
                                            <IconPlayCircle className="w-8 h-8" />
                                        </a>
                                    </div>
                                    <p className="mt-2 text-stone-600 text-sm leading-relaxed">{data.songAnalysis}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            };

            const renderStudy = () => {
                return (
                    <div className="fade-in max-w-6xl mx-auto pb-12">
                         <div id="printable-study-section" className="bg-white p-8 rounded-2xl shadow-sm border border-stone-200 relative">
                            
                            <div className="flex justify-between items-start mb-2">
                                 <div className="w-full">
                                    <h1 className="text-3xl font-serif font-bold text-center text-amber-800">Discussion Guide</h1>
                                 </div>
                                 <button 
                                    onClick={() => window.print()} 
                                    className="no-print absolute top-6 right-6 text-stone-400 hover:text-stone-600 hover:bg-stone-100 p-2 rounded-full transition-all"
                                    aria-label="Print Discussion Guide"
                                    title="Print Discussion Guide"
                                >
                                    <IconPrinter className="w-6 h-6" />
                                </button>
                            </div>

                            <p className="text-center text-stone-500 mb-8 italic">"{WEEK_INFO.title}"</p>
                            
                            {/* --- ADDED IMAGE HERE --- */}
                            <div className="mb-8">
                                <img 
                                    src="Graphic.jpg" 
                                    alt="Infographic: The Doctrine of Salvation for the Dead" 
                                    className="w-full h-auto rounded-lg shadow-md border border-stone-200"
                                    onError={(e) => {e.target.style.display = 'none'}} 
                                />
                            </div>
                            {/* ------------------------ */}
                            
                            {STUDY_GUIDE_DATA.map((section, idx) => (
                                <div key={idx} className="mb-10 last:mb-0">
                                    <h2 className="text-xl font-bold text-stone-800 mb-3 border-b border-amber-100 pb-2">{section.title}</h2>
                                    
                                    {section.content && section.content.map((p, i) => (
                                        <p key={i} className="text-stone-700 mb-3 leading-relaxed">{p}</p>
                                    ))}

                                    {section.discussionPoint && (
                                        <div className="mb-4">
                                            <h3 className="text-amber-700 font-semibold text-sm uppercase mb-1">Context</h3>
                                            <p className="text-stone-700">{section.discussionPoint}</p>
                                        </div>
                                    )}

                                    {section.quote && (
                                        <blockquote className="border-l-4 border-stone-300 pl-4 py-1 my-4 text-stone-600 italic bg-stone-50 p-3 rounded-r-lg">
                                            {section.quote}
                                        </blockquote>
                                    )}

                                    {section.question && (
                                        <ToggleAnswer question={section.question} answer={section.answer} />
                                    )}

                                    {section.questions && section.questions.map((qItem, qIdx) => (
                                        <ToggleAnswer key={qIdx} question={qItem.q} answer={qItem.a} />
                                    ))}
                                </div>
                            ))}

                            <div className="mt-12 pt-8 border-t border-stone-200 text-center">
                                <p className="text-stone-800 font-medium">Lesson Summary</p>
                                <p className="text-stone-600 mt-2 text-sm">This week we reviewed the Articles of Faith, which serve as a simple yet profound summary of our doctrine. We reaffirmed the centrality of Jesus Christ and the Godhead (Articles 1-4). We discussed the comfort of continuing revelation, acknowledging that God has yet more to reveal to us (Article 9). We touched on how revelation guides the Church through change, as seen in the Official Declarations. We concluded with the call to live virtuous, benevolent lives, ministering to others without judgment (Article 13).</p>
                            </div>
                        </div>
                    </div>
                );
            };

            // Dynamic Footer based on view
            const renderFooter = () => (
                <footer className="p-6 text-center text-stone-400 text-xs">
                    <p>{WEEK_INFO.valediction}</p>
                </footer>
            );

            return (
                <div className="flex flex-col h-full bg-stone-100">
                    {/* Header */}
                    <header className="bg-white border-b border-stone-200 pt-6 pb-2 px-4 shadow-sm z-10">
                        <div className="max-w-4xl mx-auto text-center">
                            <h1 className="text-xs font-bold tracking-[0.2em] text-stone-400 uppercase mb-1">Come, Follow Me</h1>
                            <h2 className="text-lg sm:text-xl font-serif font-bold text-stone-800 leading-tight">{WEEK_INFO.title}</h2>
                            <p className="text-stone-500 text-xs mt-1 mb-4">{WEEK_INFO.dateRange}</p>

                            {/* Main Nav Tabs */}
                            <div className="flex justify-center space-x-1 sm:space-x-4 mt-4 overflow-x-auto hide-scrollbar pb-2">
                                <button onClick={() => setActiveTab('devotional')} className={`flex flex-col sm:flex-row items-center gap-2 px-4 py-2 rounded-xl transition-all ${activeTab === 'devotional' ? 'bg-amber-50 text-amber-700 ring-1 ring-amber-200' : 'text-stone-400 hover:text-stone-600'}`}>
                                    <IconSun className="w-5 h-5" />
                                    <span className="text-xs sm:text-sm font-medium">Daily</span>
                                </button>
                                <button onClick={() => setActiveTab('youth')} className={`flex flex-col sm:flex-row items-center gap-2 px-4 py-2 rounded-xl transition-all ${activeTab === 'youth' ? 'bg-amber-50 text-amber-700 ring-1 ring-amber-200' : 'text-stone-400 hover:text-stone-600'}`}>
                                    <IconUsers className="w-5 h-5" />
                                    <span className="text-xs sm:text-sm font-medium">Youth</span>
                                </button>
                                <button onClick={() => setActiveTab('songs')} className={`flex flex-col sm:flex-row items-center gap-2 px-4 py-2 rounded-xl transition-all ${activeTab === 'songs' ? 'bg-amber-50 text-amber-700 ring-1 ring-amber-200' : 'text-stone-400 hover:text-stone-600'}`}>
                                    <IconMusic className="w-5 h-5" />
                                    <span className="text-xs sm:text-sm font-medium">Music</span>
                                </button>
                                <button onClick={() => setActiveTab('study')} className={`flex flex-col sm:flex-row items-center gap-2 px-4 py-2 rounded-xl transition-all ${activeTab === 'study' ? 'bg-amber-50 text-amber-700 ring-1 ring-amber-200' : 'text-stone-400 hover:text-stone-600'}`}>
                                    <IconBookOpen className="w-5 h-5" />
                                    <span className="text-xs sm:text-sm font-medium">Study</span>
                                </button>
                            </div>
                        </div>
                    </header>

                    {/* Secondary Day Navigation (Horizontal Scroll) - Only show for Daily, Youth, Songs */}
                    {activeTab !== 'study' && (
                        <div className="bg-white border-b border-stone-200 py-2 px-4 shadow-sm z-10">
                            <div className="max-w-4xl mx-auto">
                                <div className="flex space-x-3 overflow-x-auto hide-scrollbar pb-1 sm:justify-center">
                                    {DEVOTIONAL_DATA.map((d) => (
                                        <button
                                            key={d.id}
                                            onClick={() => setActiveDayId(d.id)}
                                            className={`flex-shrink-0 flex flex-col items-center justify-center w-12 h-14 rounded-lg transition-all border ${activeDayId === d.id ? 'bg-stone-800 text-white border-stone-800 shadow-md transform scale-105' : 'bg-white text-stone-500 border-stone-200 hover:border-stone-300'}`}
                                        >
                                            <span className="text-[10px] font-bold uppercase">{d.day}</span>
                                            <span className={`text-lg font-bold leading-none ${activeDayId === d.id ? 'text-amber-400' : 'text-stone-800'}`}>{d.date.split(' ')[1]}</span>
                                        </button>
                                    ))}
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Content Area - Scrollable */}
                    <main className="flex-1 overflow-y-auto p-4 pb-20">
                        {activeTab === 'devotional' && renderDevotional()}
                        {activeTab === 'youth' && renderYouth()}
                        {activeTab === 'songs' && renderSongs()}
                        {activeTab === 'study' && renderStudy()}
                        {renderFooter()}
                    </main>

                    <Toast message="Copied to Clipboard!" show={showToast} onClose={() => setShowToast(false)} />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
